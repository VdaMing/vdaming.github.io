<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[VdaMing's Blog]]></title>
  <subtitle><![CDATA[Success belongs to the persevering]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://blog.vdaming.com/"/>
  <updated>2016-01-17T10:13:11.406Z</updated>
  <id>http://blog.vdaming.com/</id>
  
  <author>
    <name><![CDATA[Vdaming]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Install VPN on the VPS]]></title>
    <link href="http://blog.vdaming.com/2016/01/13/Install-VPN-on-the-VPS/"/>
    <id>http://blog.vdaming.com/2016/01/13/Install-VPN-on-the-VPS/</id>
    <published>2016-01-13T13:28:54.000Z</published>
    <updated>2016-01-17T10:13:11.406Z</updated>
    <content type="html"><![CDATA[<p>记录VPS 上安装各种fan墙工具的方法.</p>
<h2 id="SS">SS</h2><p>SS项目地址 https:/github.com/shadowsocks/shadowsocks 已经被清空了，<a href="https://github.com/shadowsocks/shadowsocks/wiki" target="_blank" rel="external">wiki</a>还是可以用的。源码还好有人<a href="https://github.com/ziggear/shadowsocks" target="_blank" rel="external">备份</a>了.</p>
<h3 id="安装SS_on_ubuntu:">安装SS on ubuntu:</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get <span class="keyword">install</span> python-pip</span><br><span class="line">pip <span class="keyword">install</span> shadowsocks</span><br></pre></td></tr></table></figure>
<p>里面包含了client: sslocal和server: ssserver</p>
<h3 id="启动SS_server">启动SS server</h3><p>可以写一个json格式的配置文件server和client都可以用，然后用<code>ssserver -c xxxx.json -d start</code><br>配置如下<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">"<span class="attribute">server</span>":<span class="value"><span class="string">"xx.xx.xx.xx"</span></span>,</span><br><span class="line">"<span class="attribute">server_port</span>":<span class="value">xxxx</span>,</span><br><span class="line">"<span class="attribute">local_server</span>":<span class="value"><span class="string">"0.0.0.0"</span></span>,</span><br><span class="line">"<span class="attribute">local_port</span>":<span class="value"><span class="number">1080</span></span>,</span><br><span class="line">"<span class="attribute">password</span>":<span class="value"><span class="string">"xxxxx"</span></span>,</span><br><span class="line">"<span class="attribute">timeout</span>":<span class="value"><span class="number">600</span></span>,</span><br><span class="line">"<span class="attribute">method</span>":<span class="value"><span class="string">"rc4-md5"</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>也可以直接用命令行加参数启动: <code>ssserver -s xx.xx.xx.xx -p xxx -k xxxx -m rc4-md5 -t 300 -d start</code></p>
<h3 id="配置client">配置client</h3><p>Ubuntu:<br><code>sslocal -c xxxx.json -d start</code>, 然后浏览器设置sockv5 代理到本地的1080端口.</p>
<p>Windows:<br><a href="https://github.com/shadowsocks/shadowsocks-windows/releases/download/2.5.8/Shadowsocks-2.5.8.zip" target="_blank" rel="external">客户端软件</a></p>
<p>Android:<br><a href="https://play.google.com/store/apps/details?id=com.github.shadowsocks" target="_blank" rel="external">google play</a></p>
<h2 id="PPTP_VPN">PPTP VPN</h2><p>安装过程主要参考这里： <a href="https://help.ubuntu.com/community/PPTPServer" target="_blank" rel="external">https://help.ubuntu.com/community/PPTPServer</a></p>
<blockquote>
<p>First we need to install pptp server using apt-get</p>
<p><code># sudo apt-get install pptpd</code></p>
<p>Then we need to configure the pptpd.</p>
<p><code># sudo nano /etc/pptpd.conf</code></p>
<p>Add server IP and client IP at the end of the file. You can add like below:</p>
<p><code>localip 192.168.0.1</code><br><code>remoteip 192.168.0.100-200</code><br>This sets up the PPTP server to use IP 192.168.0.1 while distributing the IP range 192.168.0.100 to 192.168.0.200 to PPTP clients. Change these as you wish as long as they are private IP addresses and do not conflict with IP addresses already used by your server.</p>
<p>Configure DNS servers to use when clients connect to this PPTP server</p>
<p><code># sudo nano /etc/ppp/pptpd-options</code></p>
<p>Uncomment the ms-dns and add google like below or OpenDNS</p>
<p><code>ms-dns 8.8.8.8</code><br><code>ms-dns 8.8.4.4</code></p>
<p>Now add a VPN user in /etc/ppp/chap-secrets file.</p>
<p><code># sudo nano /etc/ppp/chap-secrets</code></p>
<p>The column is username. Second column is server name, you can put “pptpd” in there. Third column is password. The last column is the IP addresses, you can put * to allow all IP.</p>
<p><code># client        server  secret                  IP addresses</code><br><code>username * myPassword *</code></p>
<p>Finally start your server</p>
<p><code># /etc/init.d/pptpd restart</code></p>
<p>Setup IP Forwarding</p>
<p>To enable IPv4 forward. Change /etc/sysctl.conf file, add forward rule below.</p>
<p><code># sudo nano /etc/sysctl.conf</code></p>
<p>Uncomment the line<br><code>net.ipv4.ip_forward=1</code></p>
<p>Then reload the configuration</p>
<p><code>sudo sysctl -p</code></p>
<p><code>Add forward rule in iptables</code></p>
<p><code># sudo nano /etc/rc.local</code></p>
<p>adding to the bottom just before the exit 0</p>
<p><code>iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -j MASQUERADE</code><br><code>iptables -A FORWARD -p tcp --syn -s 192.168.0.0/24 -j TCPMSS --set-mss 1356</code></p>
<p>This example is using 192.168.0 for its PPTP subnet. The second rule adjusts the MTU size :</p>
<p>You are done. Just reboot your server and you should be able to connect to using PPTPD and send all your traffic through this server. </p>
</blockquote>
<h4 id="遇到的问题">遇到的问题</h4><p>找问题的原因主要是看client和server的log文件/var/log/syslog</p>
<ol>
<li>logwtmp 版本不对，log中会有显示，需要注释掉/etc/pptpd.conf中的logwtmp</li>
<li>ppp0 设备找不到，log中提醒用命令<code>mknod ppp c 108 0</code>添加device节点</li>
<li>log中提示找不到ppp-generic 模块，是因为很多VPS上kernel没有把ppp相关的模块编译进来比如tun，ppp-generic. 只要让VPS服务商添加一下就OK了</li>
</ol>
<h2 id="openVPN">openVPN</h2><p>PPTP已经不安全了，所以想到用<a href="http://www.openvpn.net/" target="_blank" rel="external">openvpn</a></p>
<h2 id="To_be_continued">To be continued</h2>]]></content>
    <summary type="html">
    <![CDATA[<p>记录VPS 上安装各种fan墙工具的方法.</p>
<h2 id="SS">SS</h2><p>SS项目地址 https:/github.com/shadowsocks/shadowsocks 已经被清空了，<a href="https://github.com/shado]]>
    </summary>
    
      <category term="VPN SS PPTP" scheme="http://blog.vdaming.com/tags/VPN-SS-PPTP/"/>
    
      <category term="tool" scheme="http://blog.vdaming.com/categories/tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Install LNMP on ArchLinuxArm]]></title>
    <link href="http://blog.vdaming.com/2016/01/03/Install-LNMP-on-ArchLinuxArm/"/>
    <id>http://blog.vdaming.com/2016/01/03/Install-LNMP-on-ArchLinuxArm/</id>
    <published>2016-01-03T15:29:53.000Z</published>
    <updated>2016-01-17T10:14:51.161Z</updated>
    <content type="html"><![CDATA[<h2 id="安装LNMP">安装LNMP</h2><p>参照网上的<a href="http://blog.csdn.net/spaceship20008/article/details/8456601" target="_blank" rel="external">教程</a>，遇到了几点问题:</p>
<ol>
<li>ArchlinuxArm的软件源设定，由于官方的mirror.archlinuxarm.org是访问不到的，所以要更改为国内的镜像站，测试了几个后，最后使用的是中科大的源<a href="http://mirrors.ustc.edu.cn/archlinuxarm/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/archlinuxarm/</a> 。需要在/etc/pacman.d/mirrorlist中把原来的server注释掉，把国内的地址加到最后即可，记得地址后面要有跟着<code>$arch/$repo</code>以便适应不同的平台。</li>
<li>教程中提到使用<code>pacman -S php php-cgi php-fpm php-curl php-gd php-mcrypt mysql mysql-clients nginx</code>即可但是<code>php-curl</code>这个包会找不到，然后把它拿掉就可以了，后面再看这个是干嘛的吧。</li>
<li>安装mysql时会提示是安装mariadb还是percona，这两个都是兼容mysql的升级版本，最后选择大家常用的mariadb，至于为什么，以后知道了在补充。</li>
</ol>
<h2 id="配置Nginx">配置Nginx</h2><p><a href="http://nginx.org/en/docs/" target="_blank" rel="external">Nginx文档</a></p>
<blockquote>
<p>NGINX is an open source web server and reverse proxy that excels at large-scale web integration, application security, and web acceleration<br>配置文件的路径在/etc/nginx/nginx.conf,配置的每个Directives中的name，parameter在<a href="http://nginx.org/en/docs/" target="_blank" rel="external">这里</a>上和官方的wiki上的<a href="https://www.nginx.com/resources/wiki/start/" target="_blank" rel="external">Geting started</a>上有很好的介绍,下面贴出目前使用的配置</p>
</blockquote>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">server</span> &#123;</span><br><span class="line">       <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">       <span class="title">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">       <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">       <span class="title">location</span> / &#123;</span><br><span class="line">           <span class="title">root</span>   /usr/share/nginx/html;</span><br><span class="line">           <span class="title">index</span>  index.html index.htm index.php;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="title">error_page</span>  <span class="number">404</span>              /<span class="number">404</span>.html;</span><br><span class="line"></span><br><span class="line">       <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">       <span class="comment">#</span></span><br><span class="line">       <span class="title">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">       <span class="title">location</span> = /50x.html &#123;</span><br><span class="line">           <span class="title">root</span>   /usr/share/nginx/html;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">       <span class="comment">#</span></span><br><span class="line">       <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">       <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">       <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">       <span class="comment">#</span></span><br><span class="line">       <span class="title">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">           <span class="title">root</span>           /usr/share/nginx/html;</span><br><span class="line">           <span class="comment">#fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">           <span class="title">fastcgi_pass</span>   <span class="url">unix:/run/php-fpm/php-fpm.sock</span>;</span><br><span class="line">           <span class="title">fastcgi_index</span>  index.php;</span><br><span class="line">           <span class="title">fastcgi_param</span>  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">           <span class="comment">#fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">           <span class="title">fastcgi_param</span>  SCRIPT_NAME      <span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">           <span class="title">include</span>        fastcgi_params;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h2 id="php-fpm配置">php-fpm配置</h2><p><a href="http://php.net/manual/zh/" target="_blank" rel="external">PHP手册</a><br>首先是php-fpm, php-cgi, cgi, fastcgi的关系是什么，segmental Fault上有个很好的解释<a href="http://segmentfault.com/q/1010000000256516" target="_blank" rel="external">搞不清FastCgi与PHP-fpm之间是个什么样的关系</a>,总结下来就是: cgi,fastcgi是协议; php-cgi是php的解释器，是实现cgi的程序; php-fpm是fastcgi的实现，是用来管理php-cgi的。那nginx上要能访问php的网页就要通过代理传给php-fpm去调度php-cgi解释php的脚本，然后返回数据给nginx.</p>
<ol>
<li>php-pfm怎么配置的？ 配置文件的路径是/etc/php/php-fpm.conf,具体每个配置项的含义可以参考<a href="http://php.net/manual/zh/install.fpm.php" target="_blank" rel="external">这里</a>, 目前使用的都是默认配置，其中listen = /run/php-fpm/php-fpm.sock和listen = 127.0.0.1:9000，要选择一个，并且和Nginx中的配置保持一致。</li>
<li>在Nginx的配置中fastcgi的fastcgi_pass 要填入php-fpm.conf中的listen地址， 对于socket的方式要在前面添加<code>unix:</code>即<code>fastcgi_pass   unix:/run/php-fpm/php-fpm.sock</code></li>
</ol>
<h2 id="验证php+Nginx">验证php+Nginx</h2><p>使用<code>systemctl enable php-fpm.service</code>添加php-pfm到自启动服务<br>使用<code>systemctl enable nginx.service</code>添加nginx到自启动服务<br>使用<code>systemctl start php-fpm.service</code>启动php-fpm<br>使用<code>systemctl start nginx.service</code>启动nginx<br>在nginx网站目录添加index.php文件里面填写<code>&lt;?php phpinfo();?&gt;</code>,浏览器中访问 <a href="http://127.0.0.1/" target="_blank" rel="external">http://127.0.0.1/</a> 和 <a href="http://127.0.0.1/index.php" target="_blank" rel="external">http://127.0.0.1/index.php</a> 如果显示正确的页面表示设定都OK了！</p>
<h2 id="MySQL配置">MySQL配置</h2><p><a href="http://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="external">MySQL 5.7 Reference Manual</a><br><a href="https://wiki.archlinux.org/index.php/MySQL" target="_blank" rel="external">MySQL on ArchWiki</a></p>
<h2 id="未完待续">未完待续</h2>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="安装LNMP">安装LNMP</h2><p>参照网上的<a href="http://blog.csdn.net/spaceship20008/article/details/8456601" target="_blank" rel="external">教程</]]>
    </summary>
    
      <category term="PHP,Nginx" scheme="http://blog.vdaming.com/tags/PHP-Nginx/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Install Archlinux on Raspi B+]]></title>
    <link href="http://blog.vdaming.com/2016/01/02/Install-Archlinux-on-Raspi-B/"/>
    <id>http://blog.vdaming.com/2016/01/02/Install-Archlinux-on-Raspi-B/</id>
    <published>2016-01-02T12:44:29.000Z</published>
    <updated>2016-01-17T10:13:56.850Z</updated>
    <content type="html"><![CDATA[<h2 id="树梅派B+制作Arch_linux系统步骤">树梅派B+制作Arch linux系统步骤</h2><ol>
<li>从<a href="http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-latest.tar.gz" target="_blank" rel="external">官网</a>，或者是国内的镜像站比如清华大学<em><a href="http://mirrors.tuna.tsinghua.edu.cn/archlinuxarm/os/ArchLinuxARM-rpi-latest.tar.gz" target="_blank" rel="external">http://mirrors.tuna.tsinghua.edu.cn/archlinuxarm/os/ArchLinuxARM-rpi-latest.tar.gz</a></em>下载最新的arch linux arm镜像文件</li>
<li>按照官方给出的步骤制作SD卡<blockquote>
<p>Replace sdX in the following instructions with the device name for the SD card as it appears on your computer.</p>
<ol>
<li>Start fdisk to partition the SD card:<br><code>fdisk /dev/sdX</code></li>
<li>At the fdisk prompt, delete old partitions and create a new one:<br>a. Type <em>o</em>. This will clear out any partitions on the drive.<br>b. Type <em>p</em> to list partitions. There should be no partitions left.<br>c. Type <em>n</em>, then <em>p</em> for primary, <em>1</em> for the first partition on the drive, press ENTER to accept the default first sector, then type <em>+100M</em> for the last sector.<br>d. Type <em>t</em>, then <em>c</em> to set the first partition to type W95 FAT32 (LBA).<br>e. Type <em>n</em>, then <em>p</em> for primary, <em>2</em> for the second partition on the drive, and then press ENTER twice to accept the default first and last sector.<br>f. Write the partition table and exit by typing <em>w</em>.</li>
<li>Create and mount the FAT filesystem:<br><code>mkfs.vfat /dev/sdX1</code><br><code>mkdir boot</code><br><code>mount /dev/sdX1 boot</code></li>
<li>Create and mount the ext4 filesystem:<br><code>mkfs.ext4 /dev/sdX2</code><br><code>mkdir root</code><br><code>mount /dev/sdX2 root</code></li>
<li>Download and extract the root filesystem (as root, not via sudo):<br><code>wget http://archlinuxarm.org/os/ArchLinuxARM-rpi-latest.tar.gz</code><br><code>bsdtar -xpf ArchLinuxARM-rpi-latest.tar.gz -C root</code><br><code>sync</code></li>
<li>Move boot files to the first partition:<br><code>mv root/boot/* boot</code></li>
<li>Unmount the two partitions:<br><code>umount boot root</code></li>
<li>Insert the SD card into the Raspberry Pi, connect ethernet, and apply 5V power.</li>
<li>Use the serial console or SSH to the IP address given to the board by your router.</li>
<li>Login as the default user alarm with the password alarm.The default root password is root.</li>
</ol>
</blockquote>
</li>
</ol>
<p>Archlinux wiki page: <a href="https://wiki.archlinux.org/index.php" target="_blank" rel="external">https://wiki.archlinux.org/index.php</a> </p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="树梅派B+制作Arch_linux系统步骤">树梅派B+制作Arch linux系统步骤</h2><ol>
<li>从<a href="http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-latest.tar.gz" ta]]>
    </summary>
    
      <category term="RaspberryPi" scheme="http://blog.vdaming.com/tags/RaspberryPi/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[让minidlna支持rmvb格式]]></title>
    <link href="http://blog.vdaming.com/2015/12/24/Make-minidlna-support-RMVB/"/>
    <id>http://blog.vdaming.com/2015/12/24/Make-minidlna-support-RMVB/</id>
    <published>2015-12-24T13:46:31.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<p>##转载自: <a href="http://segmentfault.com/a/1190000003024886" target="_blank" rel="external">http://segmentfault.com/a/1190000003024886</a></p>
<p>最近想倒腾个DLNA Server，可惜minidlna不支持rmvb，郁闷，ffmpeg早就支持rmvb了，没办法，自己动手改代码吧！</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf minidlna-<span class="number">1.1</span><span class="number">.3</span>.tar.gz</span><br><span class="line">sudo apt-<span class="built_in">get</span> install build-essential libexif-<span class="built_in">dev</span> libjpeg-<span class="built_in">dev</span> libid3tag0-<span class="built_in">dev</span> libFLAC-<span class="built_in">dev</span> libvorbis-<span class="built_in">dev</span> libsqlite3-<span class="built_in">dev</span> libavformat-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure>
<p>metadata.c</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">else if<span class="list">( <span class="keyword">strncmp</span><span class="list">(<span class="keyword">ctx-&gt;iformatctx-&gt;name</span>, <span class="string">"matroska"</span>, <span class="number">8</span>)</span> == <span class="number">0</span> )</span></span><br><span class="line">xasprintf<span class="list">(<span class="keyword">&amp;amp</span><span class="comment">;m.mime, "video/x-matroska");</span></span><br><span class="line">else if<span class="list">( <span class="keyword">strcmp</span><span class="list">(<span class="keyword">ctx-&gt;iformatctx-&gt;name</span>, <span class="string">"flv"</span>)</span> == <span class="number">0</span> )</span></span><br><span class="line">xasprintf<span class="list">(<span class="keyword">&amp;m</span>.mime, <span class="string">"video/x-flv"</span>)</span><span class="comment">;</span></span></span><br></pre></td></tr></table></figure>
<p>之后添加</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">else if<span class="list">( <span class="keyword">strcmp</span><span class="list">(<span class="keyword">ctx-&gt;iformat-&gt;name</span>, <span class="string">"rm"</span>)</span> == <span class="number">0</span> )</span></span><br><span class="line">xasprintf<span class="list">(<span class="keyword">&amp;amp</span><span class="comment">;m.mime, "video/x-pn-realvideo");</span></span><br><span class="line">else if<span class="list">( <span class="keyword">strcmp</span><span class="list">(<span class="keyword">ctx-&gt;iformat-&gt;name</span>, <span class="string">"rmvb"</span>)</span> == <span class="number">0</span> )</span></span><br><span class="line">xasprintf<span class="list">(<span class="keyword">&amp;m</span>.mime, <span class="string">"video/x-pn-realvideo"</span>)</span><span class="comment">;</span></span></span><br></pre></td></tr></table></figure>
<p>upnpglobalvars.h</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"http-get:*:application/ogg:*"</span></span><br></pre></td></tr></table></figure>
<p>修改为:</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"http-get:*:application/ogg:*,"</span><span class="string">\</span></span><br><span class="line"><span class="string">"http-get:*:video/x-pn-realvideo:*"</span></span><br></pre></td></tr></table></figure>
<p>utils.c</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ends_with(<span class="type">file</span>, <span class="string">".flv"</span>) || ends_with(<span class="type">file</span>, <span class="string">".xvid"</span>)  ||</span><br></pre></td></tr></table></figure>
<p>之后添加:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ends_with(<span class="type">file</span>, <span class="string">".rm"</span>)  || ends_with(<span class="type">file</span>, <span class="string">".rmvb"</span>)  ||</span><br></pre></td></tr></table></figure>
<p>随后编译安装</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./autogen.sh</span><br><span class="line">#如果提示You must have autoconf installed to compile minidlna.</span><br><span class="line">sudo apt-get <span class="operator"><span class="keyword">install</span> autoconf</span><br><span class="line">#如果提示You must have automake installed <span class="keyword">to</span> compile minidlna.</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> automake</span><br><span class="line">#需要关闭本地语言包, 如果不加<span class="comment">--disable-nls会出现各种文件找不到如: mv: cannot stat `t-da.gmo': No such file or directory</span></span><br><span class="line">./configure <span class="comment">--disable-nls</span></span><br><span class="line">make</span><br><span class="line">sudo make <span class="keyword">install</span></span><br><span class="line"></span><br><span class="line">配置文件和<span class="number">1.0</span><span class="number">.24</span>差不多:</span><br><span class="line"></span><br><span class="line">cp minidlna.conf /usr/<span class="keyword">local</span>/sbin/minidlna.conf</span><br><span class="line"></span><br><span class="line">启动方式和<span class="number">1.0</span><span class="number">.24</span>有很大差异:</span><br><span class="line"></span><br><span class="line">#第一次启动使用-<span class="keyword">d</span> –v选项看有没有出错</span><br><span class="line">sudo /usr/<span class="keyword">local</span>/sbin/minidlnad -<span class="keyword">d</span> -v -<span class="keyword">f</span> /usr/<span class="keyword">local</span>/sbin/minidlna.conf</span><br><span class="line">#没出错就ctrl+<span class="keyword">c</span> 结束进程, 然后正常启动</span><br><span class="line">sudo /usr/<span class="keyword">local</span>/sbin/minidlnad -<span class="keyword">f</span> /usr/<span class="keyword">local</span>/sbin/minidlna.conf</span><br><span class="line">#如果需要刷新列表使用-R参数</span><br><span class="line">sudo /usr/<span class="keyword">local</span>/sbin/minidlnad –R -<span class="keyword">f</span> /usr/<span class="keyword">local</span>/sbin/minidlna.conf</span></span><br></pre></td></tr></table></figure>
<p>说到底就是几句代码的事情，ffmpeg本身就是支持rmvb，但是minidlna居然没有加上这个支持。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>##转载自: <a href="http://segmentfault.com/a/1190000003024886" target="_blank" rel="external">http://segmentfault.com/a/1190000003024886</a>]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[Blog建设经历]]></title>
    <link href="http://blog.vdaming.com/2015/11/01/BlogSetUpRecord/"/>
    <id>http://blog.vdaming.com/2015/11/01/BlogSetUpRecord/</id>
    <published>2015-10-31T17:08:08.000Z</published>
    <updated>2016-01-13T13:27:26.138Z</updated>
    <content type="html"><![CDATA[<h2 id="2015-10-31">2015.10.31</h2><h3 id="更改博客主题从light改为yelee">更改博客主题从<a href="https://hexo.io/hexo-theme-light" target="_blank" rel="external">light</a>改为<a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" rel="external">yelee</a></h3><h2 id="2016-01-12">2016.01.12</h2><h3 id="Create_branch_in_git_to_store_the_blog_source_code">Create branch in git to store the blog source code</h3><ol>
<li>在github上新建一个branch，名字为blogSourceCode.</li>
<li>Clone 最新的仓库到本地： <code>git clone https://github.com/VdaMing/vdaming.github.io.git</code></li>
<li>Clone下来后默认在master分支，用 <code>git checkout blogSourceCode</code> 切换到新建的分支 </li>
<li>使用 <code>git rm ./</code> 删除到分支中所有的文件, 将原来的blog的sourcecode放到新建分支的目录下，#更改.gitignore忽略.deply*文件和public目录,删除theme下面.git文件夹#.然后用<code>git add ./</code> 把修改后的文件填到暂存区，然后使用 <code>git commit -m xx</code> 提交，再把改动用 <code>git push origin blogSourceCode</code> 更新到github上.</li>
<li>再其它的环境下就可以直接clone到最新的code，然后要安装hexo和必须的插件，可以直接运行script下面的脚本完成安装，就可以写新的blog了。写完后用git push 到github上即可.写之前可以用<code>git pull origin blogSourceCode</code>更新下code.</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="2015-10-31">2015.10.31</h2><h3 id="更改博客主题从light改为yelee">更改博客主题从<a href="https://hexo.io/hexo-theme-light" target="_blank" rel="exter]]>
    </summary>
    
      <category term="Hexo" scheme="http://blog.vdaming.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[学习VIM]]></title>
    <link href="http://blog.vdaming.com/2015/10/21/study-VIM/"/>
    <id>http://blog.vdaming.com/2015/10/21/study-VIM/</id>
    <published>2015-10-21T14:15:48.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<h1 id="vim_学习之路"><strong>vim 学习之路</strong></h1>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="vim_学习之路"><strong>vim 学习之路</strong></h1>]]>
    </summary>
    
      <category term="Vim" scheme="http://blog.vdaming.com/tags/Vim/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[搭建802.1x测试环境]]></title>
    <link href="http://blog.vdaming.com/2015/10/21/Set-up-freeradius-server/"/>
    <id>http://blog.vdaming.com/2015/10/21/Set-up-freeradius-server/</id>
    <published>2015-10-21T13:45:27.000Z</published>
    <updated>2016-01-17T10:17:38.167Z</updated>
    <content type="html"><![CDATA[<h2 id="起因"><strong>起因</strong></h2><p>最近公司开发新功能，要用到802.1x的认证环境，所以从网上搜了一堆的教程，使用freeradius测试802.1x 的EAP_SIM 认证，下面记录一下。</p>
<h2 id="802-1x,EAP"><strong>802.1x,EAP</strong></h2><p>WLAN 中的WPA-Enterprise，WPA2-Enterprise，802.1x认证都是使用了802.1x认证协议，需要radius server完成认证，授权，计费的功能，拓扑图如下<br>STA-&gt;AP-&gt;radiusServer, 当然server可以是在AP的lan端，也可以上架设在公网上使用。具体的认证使用了EAP的认证方法，包含EAP_PEAP, EAP_MD5, EAP_TLS, EAP_TTLS, EAP_SIM, EAP_AKA, EAP_AKA’等方法。</p>
<h2 id="安装和配置freeradius"><strong>安装和配置freeradius</strong></h2><p>Freeradius 是一款开源的radius server 软件，安装和配置起来都挺方便的。</p>
<h3 id="安装Freeradius"><strong>安装Freeradius</strong></h3><p>我使用的机器是ubuntu 14.04LTS 版本，可以直接使用APT-GET 命令安装，让ubuntu自动安装所需的软件和依赖，能使用的最新版本是2.1.12.<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:~$ sudo apt-get install freeradius</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">下列软件包是自动安装的并且现在不需要了：</span><br><span class="line">  hyphen-<span class="keyword">en</span>-<span class="keyword">us</span> libreoffice-<span class="keyword">help</span>-<span class="keyword">en</span>-gb libreoffice-<span class="keyword">help</span>-<span class="keyword">en</span>-<span class="keyword">us</span></span><br><span class="line">  libreoffice-<span class="keyword">help</span>-zh-cn libreoffice-l10n-<span class="keyword">en</span>-gb libreoffice-l10n-<span class="keyword">en</span>-za</span><br><span class="line">  libreoffice-l10n-zh-cn mythes-<span class="keyword">en</span>-au openoffice.org-hyphenation</span><br><span class="line"><span class="keyword">Use</span> 'apt-get autoremove' to remove them.</span><br><span class="line">将会安装下列额外的软件包：</span><br><span class="line">  freeradius-common freeradius-utils libfreeradius2</span><br><span class="line">建议安装的软件包：</span><br><span class="line">  freeradius-ldap freeradius-postgresql freeradius-mysql freeradius-krb5</span><br><span class="line">下列【新】软件包将被安装：</span><br><span class="line">  freeradius freeradius-common freeradius-utils libfreeradius2</span><br><span class="line">升级了 0 个软件包，新安装了 4 个软件包，要卸载 0 个软件包，有 1 个软件包未被升级。</span><br><span class="line">需要下载 0 B/813 kB 的软件包。</span><br><span class="line">解压缩后会消耗掉 3,254 kB 的额外空间。</span><br><span class="line">您希望继续执行吗？ [Y/<span class="keyword">n</span>] <span class="literal">y</span></span><br></pre></td></tr></table></figure></p>
<p>安装以后，freeradius是被当作service启动的，配置文件主要在/etc/freeradius/目录下。</p>
<h3 id="配置freeradius"><strong>配置freeradius</strong></h3><p>在/etc/freeradius/目录下是所有的配置文件，我们主要改动的是eap.conf,clients.conf,users 文件</p>
<h4 id="添加新用户"><strong>添加新用户</strong></h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo vim users</span><br><span class="line">加入以下字段是给MD5，PEAP的认证添加vic用户，密码是1234</span><br><span class="line">"vic"    Cleartext-Password := "1234"</span><br><span class="line">         Reply-Message = "Hello, %&#123;User-Name&#125;"</span><br><span class="line"></span><br><span class="line">加入以下字段是给EAP_SIM 添加sim triplets信息</span><br><span class="line">"<span class="number">146001246107</span>7202@wlan.mnc001.mcc460.3gppnetwork.org" EAP-Type:=SIM</span><br><span class="line">        EAP-Sim-Rand1 = <span class="number">0x11111111111</span><span class="number">111111111111111</span>111111,</span><br><span class="line">        EAP-Sim-SRES1 = <span class="number">0x11223344</span>,</span><br><span class="line">        EAP-Sim-KC1 = <span class="number">0x112233445</span><span class="number">5667788</span>,</span><br><span class="line">        EAP-Sim-Rand2 = <span class="number">0x22222222222</span><span class="number">222222222222222</span>222222,</span><br><span class="line">        EAP-Sim-SRES2 = <span class="number">0x55667788</span>,</span><br><span class="line">        EAP-Sim-KC2 = <span class="number">0x88776655</span><span class="number">44332211</span>,</span><br><span class="line">        EAP-Sim-Rand3 = <span class="number">0x33333333</span><span class="number">33333333333</span><span class="number">33333333333</span>33,</span><br><span class="line">        EAP-Sim-SRES3 = <span class="number">0x11335577</span>,</span><br><span class="line">        EAP-Sim-KC3 = <span class="number">0x223344556</span><span class="number">6778899</span></span><br></pre></td></tr></table></figure>
<p>对于eap_sim的sim卡信息需要根据不同的SIM卡生成出来，搞一个SIM卡的读卡器，使用软件<a href="http://agsm.sourceforge.net/download.html" target="_blank" rel="external">agsim</a>生成3组值添加到users文件即可，用户名的话是IMSI加上对应的后缀，后缀中的mnc001, mcc460, 是取了IMSI的钱5位分割出来的。</p>
<h4 id="添加允许radius_client_ip地址"><strong>添加允许radius client ip地址</strong></h4><p>这个要编辑文件clients.conf<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo vim clients.conf</span><br><span class="line">添加如下字段，是通过<span class="number">192.168</span>网段的所有client，密钥是<span class="number">1234</span>, 这个密钥就是AP上要填写的radius key。</span><br><span class="line">client <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">16</span> &#123;</span><br><span class="line">        secret          = <span class="number">1234</span></span><br><span class="line">        shortname       = <span class="keyword">private</span>-network-<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="添加EAP_SIM的支持"><strong>添加EAP_SIM的支持</strong></h4><p>这个要更改eap.conf<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">vdaming</span><span class="at_rule">@<span class="keyword">vdaming-Lenovo-ubuntu:/etc/freeradius$</span> sudo vim eap.conf</span><br><span class="line">在md5</span>&#123;&#125;后添加如下字段即可。</span><br><span class="line"><span class="tag">sim</span> <span class="rules">&#123;&#125;</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h4 id="测试改动是否OK"><strong>测试改动是否OK</strong></h4><p>使用freeradius的测试命令来模拟一个客户端给server发送EAP-REQUEST, 检查server是否能正常回复。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br></pre></td><td class="code"><pre><span class="line">先要重启一下freeradius service 让配置的改动生效，或者是把当前的freeradius service先top掉，再手动启动freeradius带上-X的参数打开所有的debug信息。</span><br><span class="line"></span><br><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo service freeradius <span class="operator"><span class="keyword">stop</span></span><br><span class="line">freeradius <span class="keyword">stop</span>/waiting</span><br><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo freeradius -X</span><br><span class="line">FreeRADIUS <span class="keyword">Version</span> <span class="number">2.1</span><span class="number">.12</span>, <span class="keyword">for</span> host i686-pc-linux-gnu, built <span class="keyword">on</span> Aug <span class="number">26</span> <span class="number">2015</span> <span class="keyword">at</span> <span class="number">14</span>:<span class="number">47</span>:<span class="number">37</span></span><br><span class="line">Copyright (<span class="keyword">C</span>) <span class="number">1999</span>-<span class="number">2009</span> The FreeRADIUS <span class="keyword">server</span> <span class="keyword">project</span> <span class="keyword">and</span> <span class="keyword">contributors</span>. </span><br><span class="line">There <span class="keyword">is</span> <span class="keyword">NO</span> warranty;</span> not even for MERCHANTABILITY or FITNESS FOR A </span><br><span class="line">PARTICULAR PURPOSE. </span><br><span class="line">You may redistribute copies of FreeRADIUS under the terms of the </span><br><span class="line">GNU General Public License v2. </span><br><span class="line">Starting - reading configuration files ...</span><br><span class="line">including configuration file /etc/freeradius/radiusd.conf</span><br><span class="line">including configuration file /etc/freeradius/proxy.conf</span><br><span class="line">including configuration file /etc/freeradius/clients.conf</span><br><span class="line">including files in directory /etc/freeradius/modules/</span><br><span class="line">including configuration file /etc/freeradius/modules/always</span><br><span class="line">including configuration file /etc/freeradius/modules/krb5</span><br><span class="line">including configuration file /etc/freeradius/modules/perl</span><br><span class="line">including configuration file /etc/freeradius/modules/otp</span><br><span class="line">including configuration file /etc/freeradius/modules/ldap</span><br><span class="line">including configuration file /etc/freeradius/modules/files</span><br><span class="line">including configuration file /etc/freeradius/modules/rediswho</span><br><span class="line">including configuration file /etc/freeradius/modules/acct_unique</span><br><span class="line">including configuration file /etc/freeradius/modules/unix</span><br><span class="line">including configuration file /etc/freeradius/modules/pam</span><br><span class="line">including configuration file /etc/freeradius/modules/mac2ip</span><br><span class="line">including configuration file /etc/freeradius/modules/cui</span><br><span class="line">including configuration file /etc/freeradius/modules/smsotp</span><br><span class="line">including configuration file /etc/freeradius/modules/wimax</span><br><span class="line">including configuration file /etc/freeradius/modules/counter</span><br><span class="line">including configuration file /etc/freeradius/modules/linelog</span><br><span class="line">including configuration file /etc/freeradius/modules/mac2vlan</span><br><span class="line">including configuration file /etc/freeradius/modules/sqlcounter_expire_on_login</span><br><span class="line">including configuration file /etc/freeradius/modules/exec</span><br><span class="line">including configuration file /etc/freeradius/modules/pap</span><br><span class="line">including configuration file /etc/freeradius/modules/detail.example.com</span><br><span class="line">including configuration file /etc/freeradius/modules/detail.log</span><br><span class="line">including configuration file /etc/freeradius/modules/inner-eap</span><br><span class="line">including configuration file /etc/freeradius/modules/preprocess</span><br><span class="line">including configuration file /etc/freeradius/modules/echo</span><br><span class="line">including configuration file /etc/freeradius/modules/detail</span><br><span class="line">including configuration file /etc/freeradius/modules/replicate</span><br><span class="line">including configuration file /etc/freeradius/modules/passwd</span><br><span class="line">including configuration file /etc/freeradius/modules/sql_log</span><br><span class="line">including configuration file /etc/freeradius/modules/logintime</span><br><span class="line">including configuration file /etc/freeradius/modules/checkval</span><br><span class="line">including configuration file /etc/freeradius/modules/expr</span><br><span class="line">including configuration file /etc/freeradius/modules/policy</span><br><span class="line">including configuration file /etc/freeradius/modules/attr_filter</span><br><span class="line">including configuration file /etc/freeradius/modules/sradutmp</span><br><span class="line">including configuration file /etc/freeradius/modules/dynamic_clients</span><br><span class="line">including configuration file /etc/freeradius/modules/digest</span><br><span class="line">including configuration file /etc/freeradius/modules/attr_rewrite</span><br><span class="line">including configuration file /etc/freeradius/modules/realm</span><br><span class="line">including configuration file /etc/freeradius/modules/chap</span><br><span class="line">including configuration file /etc/freeradius/modules/radutmp</span><br><span class="line">including configuration file /etc/freeradius/modules/opendirectory</span><br><span class="line">including configuration file /etc/freeradius/modules/etc_group</span><br><span class="line">including configuration file /etc/freeradius/modules/soh</span><br><span class="line">including configuration file /etc/freeradius/modules/expiration</span><br><span class="line">including configuration file /etc/freeradius/modules/ippool</span><br><span class="line">including configuration file /etc/freeradius/modules/redis</span><br><span class="line">including configuration file /etc/freeradius/modules/ntlm_auth</span><br><span class="line">including configuration file /etc/freeradius/modules/smbpasswd</span><br><span class="line">including configuration file /etc/freeradius/modules/mschap</span><br><span class="line">including configuration file /etc/freeradius/eap.conf</span><br><span class="line">including configuration file /etc/freeradius/policy.conf</span><br><span class="line">including files in directory /etc/freeradius/sites-enabled/</span><br><span class="line">including configuration file /etc/freeradius/sites-enabled/inner-tunnel</span><br><span class="line">including configuration file /etc/freeradius/sites-enabled/default</span><br><span class="line">main &#123;</span><br><span class="line">	user = "freerad"</span><br><span class="line">	group = "freerad"</span><br><span class="line">	allow_core_dumps = no</span><br><span class="line">&#125;</span><br><span class="line">including dictionary file /etc/freeradius/dictionary</span><br><span class="line">main &#123;</span><br><span class="line">	name = "freeradius"</span><br><span class="line">	prefix = "/usr"</span><br><span class="line">	localstatedir = "/var"</span><br><span class="line">	sbindir = "/usr/sbin"</span><br><span class="line">	logdir = "/var/log/freeradius"</span><br><span class="line">	run_dir = "/var/run/freeradius"</span><br><span class="line">	libdir = "/usr/lib/freeradius"</span><br><span class="line">	radacctdir = "/var/log/freeradius/radacct"</span><br><span class="line">	hostname_lookups = no</span><br><span class="line">	max_request_time = 30</span><br><span class="line">	cleanup_delay = 5</span><br><span class="line">	max_requests = 1024</span><br><span class="line">	pidfile = "/var/run/freeradius/freeradius.pid"</span><br><span class="line">	checkrad = "/usr/sbin/checkrad"</span><br><span class="line">	debug_level = <span class="operator">0</span><br><span class="line">	proxy_requests = yes</span><br><span class="line"> <span class="keyword">log</span> &#123;</span><br><span class="line">	stripped_names = <span class="keyword">no</span></span><br><span class="line">	auth = <span class="keyword">no</span></span><br><span class="line">	auth_badpass = <span class="keyword">no</span></span><br><span class="line">	auth_goodpass = <span class="keyword">no</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">security</span> &#123;</span><br><span class="line">	max_attributes = <span class="number">200</span></span><br><span class="line">	reject_delay = <span class="number">1</span></span><br><span class="line">	status_server = yes</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">radiusd: #### Loading Realms <span class="keyword">and</span> Home Servers ####</span><br><span class="line"> proxy <span class="keyword">server</span> &#123;</span><br><span class="line">	retry_delay = <span class="number">5</span></span><br><span class="line">	retry_count = <span class="number">3</span></span><br><span class="line">	default_fallback = <span class="keyword">no</span></span><br><span class="line">	dead_time = <span class="number">120</span></span><br><span class="line">	wake_all_if_all_dead = <span class="keyword">no</span></span><br><span class="line"> &#125;</span><br><span class="line"> home_server localhost &#123;</span><br><span class="line">	ipaddr = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">	port = <span class="number">1812</span></span><br><span class="line">	<span class="keyword">type</span> = <span class="string">"auth"</span></span><br><span class="line">	secret = <span class="string">"testing123"</span></span><br><span class="line">	response_window = <span class="number">20</span></span><br><span class="line">	max_outstanding = <span class="number">65536</span></span><br><span class="line">	require_message_authenticator = yes</span><br><span class="line">	zombie_period = <span class="number">40</span></span><br><span class="line">	status_check = <span class="string">"status-server"</span></span><br><span class="line">	ping_interval = <span class="number">30</span></span><br><span class="line">	check_interval = <span class="number">30</span></span><br><span class="line">	num_answers_to_alive = <span class="number">3</span></span><br><span class="line">	num_pings_to_alive = <span class="number">3</span></span><br><span class="line">	revive_interval = <span class="number">120</span></span><br><span class="line">	status_check_timeout = <span class="number">4</span></span><br><span class="line">  coa &#123;</span><br><span class="line">	irt = <span class="number">2</span></span><br><span class="line">	mrt = <span class="number">16</span></span><br><span class="line">	mrc = <span class="number">5</span></span><br><span class="line">	mrd = <span class="number">30</span></span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> home_server_pool my_auth_failover &#123;</span><br><span class="line">	<span class="keyword">type</span> = fail-<span class="keyword">over</span></span><br><span class="line">	home_server = localhost</span><br><span class="line"> &#125;</span><br><span class="line"> realm example.com &#123;</span><br><span class="line">	auth_pool = my_auth_failover</span><br><span class="line"> &#125;</span><br><span class="line"> realm <span class="keyword">LOCAL</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line">radiusd: #### Loading Clients ####</span><br><span class="line"> <span class="keyword">client</span> localhost &#123;</span><br><span class="line">	ipaddr = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">	require_message_authenticator = <span class="keyword">no</span></span><br><span class="line">	secret = <span class="string">"testing123"</span></span><br><span class="line">	nastype = <span class="string">"other"</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">client</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">16</span> &#123;</span><br><span class="line">	require_message_authenticator = <span class="keyword">no</span></span><br><span class="line">	secret = <span class="string">"1234"</span></span><br><span class="line">	shortname = <span class="string">"private-network-2"</span></span><br><span class="line"> &#125;</span><br><span class="line">radiusd: #### Instantiating modules ####</span><br><span class="line"> instantiate &#123;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_exec</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"exec"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/exec</span><br><span class="line">  exec &#123;</span><br><span class="line">	<span class="keyword">wait</span> = <span class="keyword">no</span></span><br><span class="line">	input_pairs = <span class="string">"request"</span></span><br><span class="line">	shell_escape = yes</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_expr</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"expr"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/expr</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_expiration</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"expiration"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/expiration</span><br><span class="line">  expiration &#123;</span><br><span class="line">	reply-message = <span class="string">"Password Has Expired  "</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_logintime</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"logintime"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/logintime</span><br><span class="line">  logintime &#123;</span><br><span class="line">	reply-message = <span class="string">"You are calling outside your allowed timespan  "</span></span><br><span class="line">	<span class="keyword">minimum</span>-<span class="keyword">timeout</span> = <span class="number">60</span></span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">radiusd: #### Loading <span class="keyword">Virtual</span> Servers ####</span><br><span class="line"><span class="keyword">server</span> &#123; # <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/radiusd.conf</span><br><span class="line"> modules &#123;</span><br><span class="line">  <span class="keyword">Module</span>: Creating Auth-<span class="keyword">Type</span> = digest</span><br><span class="line">  <span class="keyword">Module</span>: Creating Post-Auth-<span class="keyword">Type</span> = <span class="keyword">REJECT</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking authenticate &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_pap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"pap"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/pap</span><br><span class="line">  pap &#123;</span><br><span class="line">	encryption_scheme = <span class="string">"auto"</span></span><br><span class="line">	auto_header = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_chap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"chap"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/chap</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_mschap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"mschap"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/mschap</span><br><span class="line">  mschap &#123;</span><br><span class="line">	use_mppe = yes</span><br><span class="line">	require_encryption = <span class="keyword">no</span></span><br><span class="line">	require_strong = <span class="keyword">no</span></span><br><span class="line">	with_ntdomain_hack = <span class="keyword">no</span></span><br><span class="line">	allow_retry = yes</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_digest</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"digest"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/digest</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_unix</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"unix"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/unix</span><br><span class="line">  unix &#123;</span><br><span class="line">	radwtmp = <span class="string">"/var/log/freeradius/radwtmp"</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_eap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"eap"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/eap.conf</span><br><span class="line">  eap &#123;</span><br><span class="line">	default_eap_type = <span class="string">"md5"</span></span><br><span class="line">	timer_expire = <span class="number">60</span></span><br><span class="line">	ignore_unknown_eap_types = <span class="keyword">no</span></span><br><span class="line">	cisco_accounting_username_bug = <span class="keyword">no</span></span><br><span class="line">	max_sessions = <span class="number">4096</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_md5</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-<span class="keyword">md5</span></span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_sim</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-sim</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_leap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-leap</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_gtc</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-gtc</span><br><span class="line">   gtc &#123;</span><br><span class="line">	challenge = <span class="string">"Password: "</span></span><br><span class="line">	auth_type = <span class="string">"PAP"</span></span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_tls</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-tls</span><br><span class="line">   tls &#123;</span><br><span class="line">	rsa_key_exchange = <span class="keyword">no</span></span><br><span class="line">	dh_key_exchange = yes</span><br><span class="line">	rsa_key_length = <span class="number">512</span></span><br><span class="line">	dh_key_length = <span class="number">512</span></span><br><span class="line">	verify_depth = <span class="number">0</span></span><br><span class="line">	CA_path = <span class="string">"/etc/freeradius/certs"</span></span><br><span class="line">	pem_file_type = yes</span><br><span class="line">	private_key_file = <span class="string">"/etc/freeradius/certs/server.key"</span></span><br><span class="line">	certificate_file = <span class="string">"/etc/freeradius/certs/server.pem"</span></span><br><span class="line">	CA_file = <span class="string">"/etc/freeradius/certs/ca.pem"</span></span><br><span class="line">	private_key_password = <span class="string">"whatever"</span></span><br><span class="line">	dh_file = <span class="string">"/etc/freeradius/certs/dh"</span></span><br><span class="line">	random_file = <span class="string">"/dev/urandom"</span></span><br><span class="line">	fragment_size = <span class="number">1024</span></span><br><span class="line">	include_length = yes</span><br><span class="line">	check_crl = <span class="keyword">no</span></span><br><span class="line">	cipher_list = <span class="string">"DEFAULT"</span></span><br><span class="line">	make_cert_command = <span class="string">"/etc/freeradius/certs/bootstrap"</span></span><br><span class="line">	ecdh_curve = <span class="string">"prime256v1"</span></span><br><span class="line">    <span class="keyword">cache</span> &#123;</span><br><span class="line">	<span class="keyword">enable</span> = <span class="keyword">no</span></span><br><span class="line">	lifetime = <span class="number">24</span></span><br><span class="line">	max_entries = <span class="number">255</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">verify</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    ocsp &#123;</span><br><span class="line">	<span class="keyword">enable</span> = <span class="keyword">no</span></span><br><span class="line">	override_cert_url = yes</span><br><span class="line">	<span class="keyword">url</span> = <span class="string">"http://127.0.0.1/ocsp/"</span></span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_ttls</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-ttls</span><br><span class="line">   ttls &#123;</span><br><span class="line">	default_eap_type = <span class="string">"md5"</span></span><br><span class="line">	copy_request_to_tunnel = <span class="keyword">no</span></span><br><span class="line">	use_tunneled_reply = <span class="keyword">no</span></span><br><span class="line">	virtual_server = <span class="string">"inner-tunnel"</span></span><br><span class="line">	include_length = yes</span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_peap</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-peap</span><br><span class="line">   peap &#123;</span><br><span class="line">	default_eap_type = <span class="string">"mschapv2"</span></span><br><span class="line">	copy_request_to_tunnel = <span class="keyword">no</span></span><br><span class="line">	use_tunneled_reply = <span class="keyword">no</span></span><br><span class="line">	proxy_tunneled_request_as_eap = yes</span><br><span class="line">	virtual_server = <span class="string">"inner-tunnel"</span></span><br><span class="line">	soh = <span class="keyword">no</span></span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> sub-<span class="keyword">module</span> rlm_eap_mschapv2</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating eap-mschapv2</span><br><span class="line">   mschapv2 &#123;</span><br><span class="line">	with_ntdomain_hack = <span class="keyword">no</span></span><br><span class="line">	send_error = <span class="keyword">no</span></span><br><span class="line">   &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Checking authorize &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_preprocess</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"preprocess"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/preprocess</span><br><span class="line">  preprocess &#123;</span><br><span class="line">	huntgroups = <span class="string">"/etc/freeradius/huntgroups"</span></span><br><span class="line">	hints = <span class="string">"/etc/freeradius/hints"</span></span><br><span class="line">	with_ascend_hack = <span class="keyword">no</span></span><br><span class="line">	ascend_channels_per_line = <span class="number">23</span></span><br><span class="line">	with_ntdomain_hack = <span class="keyword">no</span></span><br><span class="line">	with_specialix_jetstream_hack = <span class="keyword">no</span></span><br><span class="line">	with_cisco_vsa_hack = <span class="keyword">no</span></span><br><span class="line">	with_alvarion_vsa_hack = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_realm</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"suffix"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/realm</span><br><span class="line">  realm suffix &#123;</span><br><span class="line">	<span class="keyword">format</span> = <span class="string">"suffix"</span></span><br><span class="line">	delimiter = <span class="string">"@"</span></span><br><span class="line">	ignore_default = <span class="keyword">no</span></span><br><span class="line">	ignore_null = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_files</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"files"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/files</span><br><span class="line">  files &#123;</span><br><span class="line">	usersfile = <span class="string">"/etc/freeradius/users"</span></span><br><span class="line">	acctusersfile = <span class="string">"/etc/freeradius/acct_users"</span></span><br><span class="line">	preproxy_usersfile = <span class="string">"/etc/freeradius/preproxy_users"</span></span><br><span class="line">	compat = <span class="string">"no"</span></span><br><span class="line">  &#125;</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">203</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460022515241423@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">206</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460029518819922@wlan.mnc002.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC1"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC2"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-Rand3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-SRES3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line">[/etc/freeradius/<span class="keyword">users</span>]:<span class="number">209</span> <span class="keyword">WARNING</span>! <span class="keyword">Check</span> item <span class="string">"EAP-Sim-KC3"</span> 	<span class="keyword">found</span> <span class="keyword">in</span> reply item <span class="keyword">list</span> <span class="keyword">for</span> <span class="keyword">user</span> <span class="string">"1460012461077202@wlan.mnc001.mcc460.3gppnetwork.org"</span>. 	This <span class="keyword">attribute</span> MUST <span class="keyword">go</span> <span class="keyword">on</span> the <span class="keyword">first</span> line <span class="keyword">with</span> the other <span class="keyword">check</span> items</span><br><span class="line"> <span class="keyword">Module</span>: Checking preacct &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_acct_unique</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"acct_unique"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/acct_unique</span><br><span class="line">  acct_unique &#123;</span><br><span class="line">	<span class="keyword">key</span> = <span class="string">"User-Name, Acct-Session-Id, NAS-IP-Address, Client-IP-Address, NAS-Port"</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Checking accounting &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_detail</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"detail"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/detail</span><br><span class="line">  detail &#123;</span><br><span class="line">	detailfile = <span class="string">"/var/log/freeradius/radacct/%&#123;%&#123;Packet-Src-IP-Address&#125;:-%&#123;Packet-Src-IPv6-Address&#125;&#125;/detail-%Y%m%d"</span></span><br><span class="line">	header = <span class="string">"%t"</span></span><br><span class="line">	detailperm = <span class="number">384</span></span><br><span class="line">	dirperm = <span class="number">493</span></span><br><span class="line">	locking = <span class="keyword">no</span></span><br><span class="line">	log_packet_header = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_radutmp</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"radutmp"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/radutmp</span><br><span class="line">  radutmp &#123;</span><br><span class="line">	filename = <span class="string">"/var/log/freeradius/radutmp"</span></span><br><span class="line">	username = <span class="string">"%&#123;User-Name&#125;"</span></span><br><span class="line">	case_sensitive = yes</span><br><span class="line">	check_with_nas = yes</span><br><span class="line">	perm = <span class="number">384</span></span><br><span class="line">	callerid = yes</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Linked <span class="keyword">to</span> <span class="keyword">module</span> rlm_attr_filter</span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"attr_filter.accounting_response"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/attr_filter</span><br><span class="line">  attr_filter attr_filter.accounting_response &#123;</span><br><span class="line">	attrsfile = <span class="string">"/etc/freeradius/attrs.accounting_response"</span></span><br><span class="line">	<span class="keyword">key</span> = <span class="string">"%&#123;User-Name&#125;"</span></span><br><span class="line">	relaxed = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">Module</span>: Checking <span class="keyword">session</span> &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking post-proxy &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking post-auth &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Instantiating <span class="keyword">module</span> <span class="string">"attr_filter.access_reject"</span> <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/modules/attr_filter</span><br><span class="line">  attr_filter attr_filter.access_reject &#123;</span><br><span class="line">	attrsfile = <span class="string">"/etc/freeradius/attrs.access_reject"</span></span><br><span class="line">	<span class="keyword">key</span> = <span class="string">"%&#123;User-Name&#125;"</span></span><br><span class="line">	relaxed = <span class="keyword">no</span></span><br><span class="line">  &#125;</span><br><span class="line"> &#125; # modules</span><br><span class="line">&#125; # <span class="keyword">server</span></span><br><span class="line"><span class="keyword">server</span> <span class="keyword">inner</span>-tunnel &#123; # <span class="keyword">from</span> <span class="keyword">file</span> /etc/freeradius/sites-enabled/<span class="keyword">inner</span>-tunnel</span><br><span class="line"> modules &#123;</span><br><span class="line"> <span class="keyword">Module</span>: Checking authenticate &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking authorize &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking <span class="keyword">session</span> &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking post-proxy &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> <span class="keyword">Module</span>: Checking post-auth &#123;...&#125; <span class="keyword">for</span> more modules <span class="keyword">to</span> <span class="keyword">load</span></span><br><span class="line"> &#125; # modules</span><br><span class="line">&#125; # <span class="keyword">server</span></span><br><span class="line">radiusd: #### Opening IP addresses <span class="keyword">and</span> Ports ####</span><br><span class="line">listen &#123;</span><br><span class="line">	<span class="keyword">type</span> = <span class="string">"auth"</span></span><br><span class="line">	ipaddr = *</span><br><span class="line">	port = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">listen &#123;</span><br><span class="line">	<span class="keyword">type</span> = <span class="string">"acct"</span></span><br><span class="line">	ipaddr = *</span><br><span class="line">	port = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">listen &#123;</span><br><span class="line">	<span class="keyword">type</span> = <span class="string">"auth"</span></span><br><span class="line">	ipaddr = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">	port = <span class="number">18120</span></span><br><span class="line">&#125;</span><br><span class="line"> ... adding <span class="keyword">new</span> socket proxy address * port <span class="number">48305</span></span><br><span class="line">Listening <span class="keyword">on</span> <span class="keyword">authentication</span> address * port <span class="number">1812</span></span><br><span class="line">Listening <span class="keyword">on</span> accounting address * port <span class="number">1813</span></span><br><span class="line">Listening <span class="keyword">on</span> <span class="keyword">authentication</span> address <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> port <span class="number">18120</span> <span class="keyword">as</span> <span class="keyword">server</span> <span class="keyword">inner</span>-tunnel</span><br><span class="line">Listening <span class="keyword">on</span> proxy address * port <span class="number">1814</span></span><br><span class="line">Ready <span class="keyword">to</span> process requests.</span><br><span class="line"></span><br><span class="line">正常启动的话会有最后的Ready <span class="keyword">to</span> process requests打印出，再使用命令发送 eap request包</span><br><span class="line">vdaming@vdaming-Lenovo-ubuntu:~$ radtest vic <span class="number">1234</span> localhost <span class="number">0</span> testing123</span><br><span class="line">Sending <span class="keyword">Access</span>-Request <span class="keyword">of</span> <span class="keyword">id</span> <span class="number">103</span> <span class="keyword">to</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> port <span class="number">1812</span></span><br><span class="line">	<span class="keyword">User</span>-<span class="keyword">Name</span> = <span class="string">"vic"</span></span><br><span class="line">	<span class="keyword">User</span>-<span class="keyword">Password</span> = <span class="string">"1234"</span></span><br><span class="line">	NAS-IP-Address = <span class="number">127.0</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">	NAS-Port = <span class="number">0</span></span><br><span class="line">	Message-Authenticator = <span class="number">0x00000000000000000000000000000000</span></span><br><span class="line">rad_recv: <span class="keyword">Access</span>-<span class="keyword">Accept</span> packet <span class="keyword">from</span> host <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> port <span class="number">1812</span>, <span class="keyword">id</span>=<span class="number">103</span>, <span class="keyword">length</span>=<span class="number">32</span></span><br><span class="line">	Reply-Message = <span class="string">"Hello, vic"</span></span><br><span class="line"></span><br><span class="line">如果正常显示reply message 表示设置OK了。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="测试手机sim卡认证"><strong>测试手机sim卡认证</strong></h2><p>配置和简单测试OK后，开始使用手机来模拟测试。</p>
<ol>
<li>在AP上配置使用WPA/WPA2,或者802.1x的认证方法，输入radius server的IP和密钥。</li>
<li>使用支持EAP_SIM的手机，基本上android4.0的手机都支持，然后搜索到设置好的SSID，连接时选择EAP_SIM的认证方法，选择正确的sim卡（如果是双卡槽的话），链接即可。</li>
<li>如果sim卡的信息都填写正确的话，就能够顺利的连接上了，但是一般不会那么顺利，这时就可以参考radius server上打印的debug信息查看错误发生在了哪里，或者使用wireshark抓包检查认证流程，参考<strong>RFC4186</strong>.</li>
</ol>
<h2 id="END"><strong>END</strong></h2><p>OK， 就到这里了，并没有深入研究freeradius 使用mysql来配置用户，计费等信息的方法，以后用到的时候再了解吧，另外对于EAP_SIM,802.1x的介绍及基本的拓扑结构，认证流程都能在网上搜索的到，这里不再赘述。</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="起因"><strong>起因</strong></h2><p>最近公司开发新功能，要用到802.1x的认证环境，所以从网上搜了一堆的教程，使用freeradius测试802.1x 的EAP_SIM 认证，下面记录一下。</p>
<h2 id="802-1x,EAP"><strong>802.1x,EAP</strong></h2><p>WLAN 中的WPA-Enterprise，WPA2-Enterprise，802.1x认证都是使用了802.1x认证协议，需要radius server完成认证，授权，计费的功能，拓扑图如下<br>STA-&gt;AP-&gt;radiusServer, 当然server可以是在AP的lan端，也可以上架设在公网上使用。具体的认证使用了EAP的认证方法，包含EAP_PEAP, EAP_MD5, EAP_TLS, EAP_TTLS, EAP_SIM, EAP_AKA, EAP_AKA’等方法。</p>
<h2 id="安装和配置freeradius"><strong>安装和配置freeradius</strong></h2><p>Freeradius 是一款开源的radius server 软件，安装和配置起来都挺方便的。</p>
<h3 id="安装Freeradius"><strong>安装Freeradius</strong></h3><p>我使用的机器是ubuntu 14.04LTS 版本，可以直接使用APT-GET 命令安装，让ubuntu自动安装所需的软件和依赖，能使用的最新版本是2.1.12.<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:~$ sudo apt-get install freeradius</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">下列软件包是自动安装的并且现在不需要了：</span><br><span class="line">  hyphen-<span class="keyword">en</span>-<span class="keyword">us</span> libreoffice-<span class="keyword">help</span>-<span class="keyword">en</span>-gb libreoffice-<span class="keyword">help</span>-<span class="keyword">en</span>-<span class="keyword">us</span></span><br><span class="line">  libreoffice-<span class="keyword">help</span>-zh-cn libreoffice-l10n-<span class="keyword">en</span>-gb libreoffice-l10n-<span class="keyword">en</span>-za</span><br><span class="line">  libreoffice-l10n-zh-cn mythes-<span class="keyword">en</span>-au openoffice.org-hyphenation</span><br><span class="line"><span class="keyword">Use</span> 'apt-get autoremove' to remove them.</span><br><span class="line">将会安装下列额外的软件包：</span><br><span class="line">  freeradius-common freeradius-utils libfreeradius2</span><br><span class="line">建议安装的软件包：</span><br><span class="line">  freeradius-ldap freeradius-postgresql freeradius-mysql freeradius-krb5</span><br><span class="line">下列【新】软件包将被安装：</span><br><span class="line">  freeradius freeradius-common freeradius-utils libfreeradius2</span><br><span class="line">升级了 0 个软件包，新安装了 4 个软件包，要卸载 0 个软件包，有 1 个软件包未被升级。</span><br><span class="line">需要下载 0 B/813 kB 的软件包。</span><br><span class="line">解压缩后会消耗掉 3,254 kB 的额外空间。</span><br><span class="line">您希望继续执行吗？ [Y/<span class="keyword">n</span>] <span class="literal">y</span></span><br></pre></td></tr></table></figure></p>
<p>安装以后，freeradius是被当作service启动的，配置文件主要在/etc/freeradius/目录下。</p>
<h3 id="配置freeradius"><strong>配置freeradius</strong></h3><p>在/etc/freeradius/目录下是所有的配置文件，我们主要改动的是eap.conf,clients.conf,users 文件</p>
<h4 id="添加新用户"><strong>添加新用户</strong></h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo vim users</span><br><span class="line">加入以下字段是给MD5，PEAP的认证添加vic用户，密码是1234</span><br><span class="line">"vic"    Cleartext-Password := "1234"</span><br><span class="line">         Reply-Message = "Hello, %&#123;User-Name&#125;"</span><br><span class="line"></span><br><span class="line">加入以下字段是给EAP_SIM 添加sim triplets信息</span><br><span class="line">"<span class="number">146001246107</span>7202@wlan.mnc001.mcc460.3gppnetwork.org" EAP-Type:=SIM</span><br><span class="line">        EAP-Sim-Rand1 = <span class="number">0x11111111111</span><span class="number">111111111111111</span>111111,</span><br><span class="line">        EAP-Sim-SRES1 = <span class="number">0x11223344</span>,</span><br><span class="line">        EAP-Sim-KC1 = <span class="number">0x112233445</span><span class="number">5667788</span>,</span><br><span class="line">        EAP-Sim-Rand2 = <span class="number">0x22222222222</span><span class="number">222222222222222</span>222222,</span><br><span class="line">        EAP-Sim-SRES2 = <span class="number">0x55667788</span>,</span><br><span class="line">        EAP-Sim-KC2 = <span class="number">0x88776655</span><span class="number">44332211</span>,</span><br><span class="line">        EAP-Sim-Rand3 = <span class="number">0x33333333</span><span class="number">33333333333</span><span class="number">33333333333</span>33,</span><br><span class="line">        EAP-Sim-SRES3 = <span class="number">0x11335577</span>,</span><br><span class="line">        EAP-Sim-KC3 = <span class="number">0x223344556</span><span class="number">6778899</span></span><br></pre></td></tr></table></figure>
<p>对于eap_sim的sim卡信息需要根据不同的SIM卡生成出来，搞一个SIM卡的读卡器，使用软件<a href="http://agsm.sourceforge.net/download.html">agsim</a>生成3组值添加到users文件即可，用户名的话是IMSI加上对应的后缀，后缀中的mnc001, mcc460, 是取了IMSI的钱5位分割出来的。</p>
<h4 id="添加允许radius_client_ip地址"><strong>添加允许radius client ip地址</strong></h4><p>这个要编辑文件clients.conf<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc/freeradius$ sudo vim clients.conf</span><br><span class="line">添加如下字段，是通过<span class="number">192.168</span>网段的所有client，密钥是<span class="number">1234</span>, 这个密钥就是AP上要填写的radius key。</span><br><span class="line">client <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">16</span> &#123;</span><br><span class="line">        secret          = <span class="number">1234</span></span><br><span class="line">        shortname       = <span class="keyword">private</span>-network-<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="添加EAP_SIM的支持"><strong>添加EAP_SIM的支持</strong></h4><p>这个要更改eap.conf<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">vdaming</span><span class="at_rule">@<span class="keyword">vdaming-Lenovo-ubuntu:/etc/freeradius$</span> sudo vim eap.conf</span><br><span class="line">在md5</span>&#123;&#125;后添加如下字段即可。</span><br><span class="line"><span class="tag">sim</span> <span class="rules">&#123;&#125;</span></span><br></pre></td></tr></table></figure></p>]]>
    
    </summary>
    
      <category term="Freeradius" scheme="http://blog.vdaming.com/tags/Freeradius/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Study Python]]></title>
    <link href="http://blog.vdaming.com/2015/09/26/Study-Python/"/>
    <id>http://blog.vdaming.com/2015/09/26/Study-Python/</id>
    <published>2015-09-26T15:00:18.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<h1 id="学习Python">学习Python</h1><p><strong>学习材料:</strong><br><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">Python教程</a></p>
<h1 id="python"><strong>python</strong></h1><p>Cpython<br>python xxx.py</p>
<p>print ‘Hello %d’ % 1+2 </p>
<p>input=raw_input(‘please input the value:’)<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/usr/bin/env python</span></span><br><span class="line"># -*- coding: utf-<span class="number">8</span> -*-</span><br></pre></td></tr></table></figure></p>
<p>if <strong>name</strong> == <strong>main</strong>:<br>    main()</p>
<p>list and tuple</p>
<h1 id="条件判断和循环"><strong>条件判断和循环</strong></h1><p>while i &lt; 1 :</p>
<p>if i &lt; 1 :</p>
<p>else:</p>
<p>for i in range(min,max):</p>
<h1 id="整型和字符串"><strong>整型和字符串</strong></h1><p>int(str)<br>str(int)</p>
<h1 id="module">module</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import httplib</span><br><span class="line">conn = httplib.HTTPconnection(ip, port, timeout=<span class="number">20</span>);</span><br><span class="line">conn.request(<span class="string">"GET"</span>, <span class="string">"/index.html"</span>);</span><br><span class="line"><span class="keyword">res</span>  = conn.getresponse();</span><br><span class="line"><span class="keyword">print</span> <span class="keyword">res</span>.status</span><br><span class="line"><span class="keyword">print</span> <span class="keyword">res</span>.reason</span><br><span class="line">conn.<span class="keyword">close</span>();</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myThread</span><span class="params">(threading.Thread)</span>:</span></span><br><span class="line">	globalArg = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,arg1)</span>:</span></span><br><span class="line">		threading.Thread(self);</span><br><span class="line">		self.arg1 = arg1;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">		<span class="keyword">print</span> <span class="string">"thred is running"</span>;</span><br><span class="line"></span><br><span class="line">thread1 = myThread(arg1);</span><br><span class="line">thread1.start();</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="学习Python">学习Python</h1><p><strong>学习材料:</strong><br><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac]]>
    </summary>
    
      <category term="Python" scheme="http://blog.vdaming.com/tags/Python/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Play with RaspberryPi]]></title>
    <link href="http://blog.vdaming.com/2015/09/20/Play-with-RaspberryPi/"/>
    <id>http://blog.vdaming.com/2015/09/20/Play-with-RaspberryPi/</id>
    <published>2015-09-20T09:11:35.000Z</published>
    <updated>2016-01-17T10:18:24.106Z</updated>
    <content type="html"><![CDATA[<h2 id="GPIO硬件对应图">GPIO硬件对应图</h2><p><img src="http://i4.tietuku.com/560a99a9a616174c.png" alt="Raspberry gpio 图"></p>
<h2 id="在ubuntu上把树梅派系统写入SD卡">在ubuntu上把树梅派系统写入SD卡</h2><p><a href="http://downloads.raspberrypi.org/raspbian_latest  “树梅派官网”" target="_blank" rel="external">最新系统镜像文件</a></p>
<ol>
<li>查看SD卡的对应的设备名称<br><code>df -h</code></li>
<li>先把SD卡的各个分区卸载<br><code>umount /media/vdaming/xxxx</code></li>
<li>用dd把下载解压好的系统镜像写入SD卡<br><code>sudo dd bs=4M if=xxxxx.img of=/dev/sdb</code> </li>
</ol>
<p>##备份树梅派系统</p>
<ol>
<li>SD卡插到linux PC上，先查看存储设备路径<br><code>sudo fdisk -h</code><br><code>mount</code><br><code>df -h</code></li>
<li>卸载SD卡<br><code>umount /dev/sdx1</code><br><code>umount /dev/sdx2</code> </li>
<li>备份<br><code>sudo dd if=/dev/sdx | gzip &gt; rpi_backup_img.gz</code></li>
</ol>
<h2 id="在windows上把树梅派系统写入SD卡">在windows上把树梅派系统写入SD卡</h2><p>可以是用软件<a href="http://sourceforge.net/projects/win32diskimager/files/Archive/win32diskimager-v0.9-binary.zip/download" target="_blank" rel="external">Win32DiskImager</a> 轻松搞定，或者使用<a href="http://www.alexpage.de/usb-image-tool/download/" target="_blank" rel="external">USB Image Tool</a>, 具体使用就不再介绍了。</p>
<h2 id="配置raspberrypi">配置raspberrypi</h2><p>插上SD卡，启动树梅派，远程SSH登录(pi/raspberry)上去，使用命令<code>sudo raspi-config</code>配置相关的参数比如: timezone, lang, overlock….  然后reboot， 配置为国内的软件源，然后apt-get update, 然后安装自己常用的工具比如vim, vnc…</p>
<h3 id="国内的软件源地址">国内的软件源地址</h3><p>中山大学<br>Raspbian <a href="http://mirror.sysu.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirror.sysu.edu.cn/raspbian/raspbian/</a><br>中国科学技术大学<br>Raspbian <a href="http://mirrors.ustc.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a><br>清华大学<br>Raspbian <a href="http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/</a><br>华中科技大学<br>Raspbian <a href="http://mirrors.hustunique.com/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.hustunique.com/raspbian/raspbian/</a><br>Arch Linux ARM <a href="http://mirrors.hustunique.com/archlinuxarm/" target="_blank" rel="external">http://mirrors.hustunique.com/archlinuxarm/</a><br>大连东软信息学院源（北方用户）<br>Raspbian <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.neusoft.edu.cn/raspbian/raspbian/</a><br>重庆大学源（中西部用户）<br>Raspbian <a href="http://mirrors.cqu.edu.cn/Raspbian/raspbian/" target="_blank" rel="external">http://mirrors.cqu.edu.cn/Raspbian/raspbian/</a></p>
<a id="more"></a>
<h3 id="没有显示器怎么办">没有显示器怎么办</h3><p>在raspberry上安装tightvncserver:</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install tightvncserver</span><br><span class="line"><span class="preprocessor">#设置密码</span></span><br><span class="line">vncpasswd</span><br><span class="line"><span class="preprocessor">#启动vnc server</span></span><br><span class="line">sudo vncserver</span><br></pre></td></tr></table></figure>
<p>在PC (ubuntu)上安装vnc viewer:</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install vncviewer</span><br><span class="line"><span class="preprocessor">#链接server</span></span><br><span class="line">vncviwer</span><br></pre></td></tr></table></figure>
<p>启动vncviwer后输入IP和终端号和密码成功登入。。如图<br><img src="http://i1.tietuku.com/e8439990d4c9ede4.png" alt="图片1"></p>
<h3 id="视频采集">视频采集</h3><p><a href="https://git.oschina.net/andyspider/Camkit" target="_blank" rel="external">Camkit</a><br>这个开源的camera组件提供了图像的采集，编码，转换，打包，发送功能的API，而且提供了一个例子程序，能够实现所有的过程并可以远程VLC 观看，关键是它是利用GPU实现编码转换的过程不会占用很多CPU，而且利用了H.264硬解,具体可以参考作者的介绍</p>
<p><a href="http://sourceforge.net/projects/mjpg-streamer/" target="_blank" rel="external">Media-Streamer</a><br>同样很赞的一个开源图像采集和转换工具，可以下载sourceCode，按照介绍编译，然后运行脚本start.sh, 就能够在本地建立一个实时图像的http server，提供了VLC，streamer，javascript的实时视频播放方式。具体的安装步骤请参考树梅派实验室的好文： <a href="http://shumeipai.nxez.com/2013/10/04/raspberry-pi-mjpg-streamer-network-monitoring.html" target="_blank" rel="external">http://shumeipai.nxez.com/2013/10/04/raspberry-pi-mjpg-streamer-network-monitoring.html</a></p>
<p>#End</p>
<p>树梅派还有很多拓展的功能，主要是基于linux的mini server，开源的好东西数不胜数，也为我们这些爱折腾的家伙提供很多材料，希望自己以后也能为开源做出一点点贡献，加油！！！</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="GPIO硬件对应图">GPIO硬件对应图</h2><p><img src="http://i4.tietuku.com/560a99a9a616174c.png" alt="Raspberry gpio 图"></p>
<h2 id="在ubuntu上把树梅派系统写入SD卡">在ubuntu上把树梅派系统写入SD卡</h2><p><a href="http://downloads.raspberrypi.org/raspbian_latest  “树梅派官网”">最新系统镜像文件</a></p>
<ol>
<li>查看SD卡的对应的设备名称<br><code>df -h</code></li>
<li>先把SD卡的各个分区卸载<br><code>umount /media/vdaming/xxxx</code></li>
<li>用dd把下载解压好的系统镜像写入SD卡<br><code>sudo dd bs=4M if=xxxxx.img of=/dev/sdb</code> </li>
</ol>
<p>##备份树梅派系统</p>
<ol>
<li>SD卡插到linux PC上，先查看存储设备路径<br><code>sudo fdisk -h</code><br><code>mount</code><br><code>df -h</code></li>
<li>卸载SD卡<br><code>umount /dev/sdx1</code><br><code>umount /dev/sdx2</code> </li>
<li>备份<br><code>sudo dd if=/dev/sdx | gzip &gt; rpi_backup_img.gz</code></li>
</ol>
<h2 id="在windows上把树梅派系统写入SD卡">在windows上把树梅派系统写入SD卡</h2><p>可以是用软件<a href="http://sourceforge.net/projects/win32diskimager/files/Archive/win32diskimager-v0.9-binary.zip/download">Win32DiskImager</a> 轻松搞定，或者使用<a href="http://www.alexpage.de/usb-image-tool/download/">USB Image Tool</a>, 具体使用就不再介绍了。</p>
<h2 id="配置raspberrypi">配置raspberrypi</h2><p>插上SD卡，启动树梅派，远程SSH登录(pi/raspberry)上去，使用命令<code>sudo raspi-config</code>配置相关的参数比如: timezone, lang, overlock….  然后reboot， 配置为国内的软件源，然后apt-get update, 然后安装自己常用的工具比如vim, vnc…</p>
<h3 id="国内的软件源地址">国内的软件源地址</h3><p>中山大学<br>Raspbian <a href="http://mirror.sysu.edu.cn/raspbian/raspbian/">http://mirror.sysu.edu.cn/raspbian/raspbian/</a><br>中国科学技术大学<br>Raspbian <a href="http://mirrors.ustc.edu.cn/raspbian/raspbian/">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a><br>清华大学<br>Raspbian <a href="http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/">http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/</a><br>华中科技大学<br>Raspbian <a href="http://mirrors.hustunique.com/raspbian/raspbian/">http://mirrors.hustunique.com/raspbian/raspbian/</a><br>Arch Linux ARM <a href="http://mirrors.hustunique.com/archlinuxarm/">http://mirrors.hustunique.com/archlinuxarm/</a><br>大连东软信息学院源（北方用户）<br>Raspbian <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian/">http://mirrors.neusoft.edu.cn/raspbian/raspbian/</a><br>重庆大学源（中西部用户）<br>Raspbian <a href="http://mirrors.cqu.edu.cn/Raspbian/raspbian/">http://mirrors.cqu.edu.cn/Raspbian/raspbian/</a></p>]]>
    
    </summary>
    
      <category term="RaspberryPi" scheme="http://blog.vdaming.com/tags/RaspberryPi/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello world in Android Studio]]></title>
    <link href="http://blog.vdaming.com/2015/09/08/Hello-world-in-Android-Studio/"/>
    <id>http://blog.vdaming.com/2015/09/08/Hello-world-in-Android-Studio/</id>
    <published>2015-09-08T12:38:25.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<p>之前写java的小程序或者是android的app都是用的Eclipse, 也有好久没写过android的东西了。现在<a href="http://guge.in" target="_blank" rel="external">google</a>在力推Android studio,所以也来体验一把，记录下在ubuntu安装android studio的过程，以及用到的工具。</p>
<h2 id="Google官方安装要求">Google官方安装要求</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Linux</span><br><span class="line">    GNOME <span class="operator">or</span> KDE desktop</span><br><span class="line">    GNU C Library (glibc) <span class="number">2.15</span> <span class="operator">or</span> later</span><br><span class="line">    <span class="number">2</span> GB RAM minimum, <span class="number">4</span> GB RAM recommended</span><br><span class="line">    <span class="number">400</span> MB hard disk <span class="constant">space</span></span><br><span class="line">    At least <span class="number">1</span> GB <span class="keyword">for</span> Android SDK, emulator <span class="keyword">system</span> images, <span class="operator">and</span> caches</span><br><span class="line">    <span class="number">1280</span> x <span class="number">800</span> minimum screen resolution</span><br><span class="line">    Oracle® Java Development Kit (JDK) <span class="number">7</span></span><br></pre></td></tr></table></figure>
<h2 id="安装JDK">安装JDK</h2><p>从oracle官网下载JDK1.7<strong><a href="http://www.oracle.com/technetwork/java/javase/archive-139210.html" target="_blank" rel="external">链接</a></strong>,android 官方要求是JDK7，所以选择java SE7 下载<a href="http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.tar.gz" target="_blank" rel="external">jdk-7u80-linux-i586.tar.gz</a>。另外官方下载是需要登录到oracle的，注册个帐号就行了。</p>
<h3 id="下载到本地目录，解压，设定环境变量：">下载到本地目录，解压，设定环境变量：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/java/jdk1.<span class="number">7.0</span>_80</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre </span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>把上面的export环境变量放入到/etc/profile的最后让它开机自动执行。</p>
<h3 id="更新默认java命令">更新默认java命令</h3><p>有些ubuntu版本默认带有java，我们安装以后要用更新一下系统默认执行的版本：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/java java /</span>usr<span class="regexp">/lib/</span>java<span class="regexp">/jdk1.7.0_80/</span>bin/java <span class="number">300</span></span><br><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/javac javac /</span>usr<span class="regexp">/lib/</span>java<span class="regexp">/jdk1.7.0_80/</span>bin/javac <span class="number">300</span></span><br></pre></td></tr></table></figure></p>
<h3 id="测试一下是否安装OK">测试一下是否安装OK</h3><p>在命令行使用命令java –verion,查看能否正确显示java的版本信息。<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc$ java -<span class="built_in">version</span></span><br><span class="line">java <span class="built_in">version</span> <span class="string">"1.7.0_80"</span></span><br><span class="line">Java<span class="params">(TM)</span> SE Runtime Environment <span class="params">(build <span class="number">1.7</span>.<span class="number">0</span>_80-b15)</span></span><br><span class="line">Java HotSpot<span class="params">(TM)</span> Server VM <span class="params">(build <span class="number">24.80</span>-b11, mixed mode)</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="安装Android_Studio">安装Android Studio</h2><p>方法有很多，因为GFW的原因，下载都成为了问题，好在国内有很多网站提供原版的下载，很贴心：<br>AndroidDevTool: <a href="http://www.androiddevtools.cn/" target="_blank" rel="external">http://www.androiddevtools.cn/</a> 提供了很多android开发用到的SDK，studio, 教程等等非常不错的资源.你可以从上面下载单独的android studio，然后下载SDK， sdk tools, build platform 等等自行安装，避免了应为qiang的原因。<br>这里介绍从Google上直接下载包含了IDE，SDK TOOLS， android 6.0 platform, 6.0 emulator system image的完整包的安装，qiang的话可以用<strong>lantern</strong>突破，想用的话可以自行baidu.</p>
<p>下载android-studio-ide-141.2178183-linux.zip完以后，解压到你想要安装的目录， 然后运行/studio.sh， OK 搞定！</p>
<hr>
<h2 id="你想多了！！！">你想多了！！！</h2><p>你会发现第一次启动总是会报错，这是因为GFW的原因，所以你需要在安装目录/bin/idea.properties的最后一句添加disable.android.first.run=true，OK搞定！</p>
<h2 id="安装Android_SDK">安装Android SDK</h2><p>打开SDK manager，又是因为qiang的原因，很多的source都fetching 不到，所以需要把更新的源更换为国内的网站，然后就能顺利更新了，下面是应用andoirdDevTool网站的说明，想要最新的地址请到它的官网：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Android SDK在线更新镜像服务器</span><br><span class="line">   中国科学院开源协会镜像站地址:</span><br><span class="line">      IPV4<span class="regexp">/IPV6: http:/</span>/mirrors.opencas.cn 端口：<span class="number">80</span></span><br><span class="line">      IPV4<span class="regexp">/IPV6: http:/</span>/mirrors.opencas.org 端口：<span class="number">80</span></span><br><span class="line">      IPV4<span class="regexp">/IPV6: http:/</span>/mirrors.opencas.ac.cn 端口：<span class="number">80</span></span><br><span class="line"></span><br><span class="line">   上海GDG镜像服务器地址:</span><br><span class="line"><span class="label">      http:</span><span class="comment">//sdk.gdgshanghai.com 端口：8000</span></span><br><span class="line"></span><br><span class="line">   北京化工大学镜像服务器地址:</span><br><span class="line"><span class="label">       IPv4:</span> <span class="string">http:</span><span class="comment">//ubuntu.buct.edu.cn/ 端口：80</span></span><br><span class="line"><span class="label">       IPv4:</span> <span class="string">http:</span><span class="comment">//ubuntu.buct.cn/ 端口：80</span></span><br><span class="line"><span class="label">       IPv6:</span> <span class="string">http:</span><span class="comment">//ubuntu.buct6.edu.cn/ 端口：80</span></span><br><span class="line"></span><br><span class="line">   大连东软信息学院镜像服务器地址:\</span><br><span class="line"><span class="label">      http:</span><span class="comment">//mirrors.neusoft.edu.cn 端口：80</span></span><br><span class="line"></span><br><span class="line">   腾讯Bugly 镜像:</span><br><span class="line"><span class="label">      http:</span><span class="comment">//android-mirror.bugly.qq.com 端口：8080</span></span><br><span class="line">   腾讯镜像使用方法: <span class="string">http:</span><span class="comment">//android-mirror.bugly.qq.com:8080/include/usage.html</span></span><br><span class="line">使用方法：</span><br><span class="line">  启动 Android SDK Manager ，打开主界面，依次选择『Tools』、『Options...』，弹出『Android SDK Manager - Settings』窗口；在『Android SDK Manager - Settings』窗口中，在『HTTP Proxy Server」和&gt;「HTTP Proxy Port』输入框内填入上面镜像服务器地址(不包含<span class="string">http:</span><span class="comment">//，如下图)和端口，并且选中『Force https://... sources to be fetched using http://...』复选框。设置完成后单击『Close』按钮关闭『Android SDK Manager - Settings』窗口返回到主界面；</span></span><br><span class="line">依次选择『Packages』、『Reload』。</span><br></pre></td></tr></table></figure>
<p> <img src="http://i1.tietuku.com/088503721c181f33.png" alt=""></p>
<p>##END<br>Now i will start to write one new APP to earn money!!!</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>之前写java的小程序或者是android的app都是用的Eclipse, 也有好久没写过android的东西了。现在<a href="http://guge.in">google</a>在力推Android studio,所以也来体验一把，记录下在ubuntu安装android studio的过程，以及用到的工具。</p>
<h2 id="Google官方安装要求">Google官方安装要求</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Linux</span><br><span class="line">    GNOME <span class="operator">or</span> KDE desktop</span><br><span class="line">    GNU C Library (glibc) <span class="number">2.15</span> <span class="operator">or</span> later</span><br><span class="line">    <span class="number">2</span> GB RAM minimum, <span class="number">4</span> GB RAM recommended</span><br><span class="line">    <span class="number">400</span> MB hard disk <span class="constant">space</span></span><br><span class="line">    At least <span class="number">1</span> GB <span class="keyword">for</span> Android SDK, emulator <span class="keyword">system</span> images, <span class="operator">and</span> caches</span><br><span class="line">    <span class="number">1280</span> x <span class="number">800</span> minimum screen resolution</span><br><span class="line">    Oracle® Java Development Kit (JDK) <span class="number">7</span></span><br></pre></td></tr></table></figure>
<h2 id="安装JDK">安装JDK</h2><p>从oracle官网下载JDK1.7<strong><a href="http://www.oracle.com/technetwork/java/javase/archive-139210.html">链接</a></strong>,android 官方要求是JDK7，所以选择java SE7 下载<a href="http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.tar.gz">jdk-7u80-linux-i586.tar.gz</a>。另外官方下载是需要登录到oracle的，注册个帐号就行了。</p>
<h3 id="下载到本地目录，解压，设定环境变量：">下载到本地目录，解压，设定环境变量：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/java/jdk1.<span class="number">7.0</span>_80</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre </span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>把上面的export环境变量放入到/etc/profile的最后让它开机自动执行。</p>
<h3 id="更新默认java命令">更新默认java命令</h3><p>有些ubuntu版本默认带有java，我们安装以后要用更新一下系统默认执行的版本：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/java java /</span>usr<span class="regexp">/lib/</span>java<span class="regexp">/jdk1.7.0_80/</span>bin/java <span class="number">300</span></span><br><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/javac javac /</span>usr<span class="regexp">/lib/</span>java<span class="regexp">/jdk1.7.0_80/</span>bin/javac <span class="number">300</span></span><br></pre></td></tr></table></figure></p>
<h3 id="测试一下是否安装OK">测试一下是否安装OK</h3><p>在命令行使用命令java –verion,查看能否正确显示java的版本信息。<br><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vdaming@vdaming-Lenovo-ubuntu:/etc$ java -<span class="built_in">version</span></span><br><span class="line">java <span class="built_in">version</span> <span class="string">"1.7.0_80"</span></span><br><span class="line">Java<span class="params">(TM)</span> SE Runtime Environment <span class="params">(build <span class="number">1.7</span>.<span class="number">0</span>_80-b15)</span></span><br><span class="line">Java HotSpot<span class="params">(TM)</span> Server VM <span class="params">(build <span class="number">24.80</span>-b11, mixed mode)</span></span><br></pre></td></tr></table></figure></p>]]>
    
    </summary>
    
      <category term="Android Studio" scheme="http://blog.vdaming.com/tags/Android-Studio/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Markdown 用法]]></title>
    <link href="http://blog.vdaming.com/2015/09/02/markdown/"/>
    <id>http://blog.vdaming.com/2015/09/02/markdown/</id>
    <published>2015-09-02T05:58:46.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<p>用Hexo搭完Blog，要开始记录一些东西了。下面会一点点的记录自己常用的markdown用法，now begin!</p>
<h3 id="多级标题的使用"><strong>多级标题的使用</strong></h3><h4 id="用法示例">用法示例</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 一级标题</span></span><br><span class="line"><span class="preprocessor">## 二级标题</span></span><br><span class="line"><span class="preprocessor">### 三级标题</span></span><br><span class="line"><span class="preprocessor">#### 四级标题</span></span><br><span class="line"><span class="preprocessor">##### 五级标题</span></span><br><span class="line"><span class="preprocessor">###### 六级标题</span></span><br></pre></td></tr></table></figure>
<h4 id="实际效果">实际效果</h4><blockquote>
<h1 id="一级标题">一级标题</h1><h2 id="二级标题">二级标题</h2><h3 id="三级标题">三级标题</h3><h4 id="四级标题">四级标题</h4><h5 id="五级标题">五级标题</h5><h6 id="六级标题">六级标题</h6></blockquote>
<h2 id="<!-more->"><a id="more"></a></h2><h3 id="字体格式的使用"><strong>字体格式的使用</strong></h3><h4 id="粗体">粗体</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">*</span><span class="keyword">*</span>这是粗体<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line">__这也是粗体__</span><br><span class="line"><span class="keyword">*</span>这是斜体<span class="keyword">*</span></span><br><span class="line">_这也是斜体_</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-1">实际效果</h4><blockquote>
<p><strong>这是粗体</strong><br><strong>这也是粗体</strong><br><em>这是斜体</em><br><em>这也是斜体</em></p>
</blockquote>
<hr>
<h3 id="一些特殊的线"><strong>一些特殊的线</strong></h3><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">--------    分隔线</span><br><span class="line"></span><span class="bullet">~</span>~我被删除了~~   删除线</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-2">实际效果</h4><blockquote>
<h2 id="分隔线">分隔线</h2><p> 删除线<br><del>我被删除了</del>  </p>
</blockquote>
<hr>
<h3 id="代码块"><strong>代码块</strong></h3><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">单行的代码使用前后加‘<span class="escape">`’</span>： <span class="escape">`e</span>cho <span class="string">"hello world"</span><span class="escape">`</span><br><span class="line"></span>多行的代码使用前后加‘<span class="escape">``</span><span class="escape">`’</span>：</span><br><span class="line">\<span class="escape">`\</span><span class="escape">`\</span><span class="escape">`</span><br><span class="line"></span>echo <span class="string">"hello world"</span></span><br><span class="line">echo <span class="string">"hello world again"</span></span><br><span class="line">\<span class="escape">`\</span><span class="escape">`\</span>`</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-3">实际效果</h4><blockquote>
<p><code>echo &quot;hello world&quot;</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">echo</span> <span class="string">"hello world"</span></span><br><span class="line">&gt; <span class="built_in">echo</span> <span class="string">"hello world again"</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h3 id="列表的使用"><strong>列表的使用</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">有序列表直接用序号：</span><br><span class="line"><span class="number">1.</span>我是第一列</span><br><span class="line"><span class="number">2.</span>我是第二列</span><br><span class="line"><span class="number">3.</span>我是第三列</span><br><span class="line">无序列表可以用+，-，*:</span><br><span class="line">+ 我是没顺序的</span><br><span class="line">- 我也是没顺序的</span><br><span class="line">* 我更是没序列的</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-4">实际效果</h4><blockquote>
<p>1.我是第一列<br>2.我是第二列<br>3.我是第三列</p>
<ul>
<li>我是没顺序的</li>
</ul>
<ul>
<li>我也是没顺序的</li>
</ul>
<ul>
<li>我更是没序列的</li>
</ul>
</blockquote>
<hr>
<h3 id="链接的使用"><strong>链接的使用</strong></h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">普通链接可以用：</span><br><span class="line">[<span class="link_label">链接名称</span>](<span class="link_url">链接地址 "title"</span>)</span><br><span class="line">或者是：</span><br><span class="line">[<span class="link_label">链接名称</span>][<span class="link_reference">1</span>], 然后在其他地方用[1]: http://www.baidu.com  "baidu" </span><br><span class="line">图片链接可以用：</span><br><span class="line">![<span class="link_label">图片名称</span>](<span class="link_url">/path/to/img.jpg "图片Title"</span>)</span><br><span class="line">或者是</span><br><span class="line">![<span class="link_label">图片名称</span>][<span class="link_reference">1</span>], 然后在其他地方用[1]: /path/to/img.jpg "图片title"</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-5">实际效果</h4><blockquote>
<p><a href="http://www.google.com" title="google" target="_blank" rel="external">我是google</a><br><a href="http://www.baidu.com" title="baidu" target="_blank" rel="external">我是百度</a><br>我是图片啦<br><img src="http://img-storage.qiniudn.com/15-9-2/6590323.jpg" alt="Tedy" title="tedy"><br><img src="http://img-storage.qiniudn.com/15-9-2/31875068.jpg" alt="W图片" title="W"></p>
</blockquote>
<hr>
<h3 id="嵌入网易云音乐"><strong>嵌入网易云音乐</strong></h3><hr>
<h3 id="未完待续"><strong>未完待续</strong></h3><p>Lots of knowledge about markdown will be added with my step of learning it and writing with it…..</p>
<hr>
<h3 id="END"><strong>END</strong></h3><p>这边再加一个脚注：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">脚注<span class="attr_selector">[^Demo]</span></span><br><span class="line"><span class="attr_selector">[^Demo]</span>这是一个脚注</span><br></pre></td></tr></table></figure>
<h4 id="实际效果-6">实际效果</h4><p>脚注<a href="这是一个脚注">^Demo</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>用Hexo搭完Blog，要开始记录一些东西了。下面会一点点的记录自己常用的markdown用法，now begin!</p>
<h3 id="多级标题的使用"><strong>多级标题的使用</strong></h3><h4 id="用法示例">用法示例</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 一级标题</span></span><br><span class="line"><span class="preprocessor">## 二级标题</span></span><br><span class="line"><span class="preprocessor">### 三级标题</span></span><br><span class="line"><span class="preprocessor">#### 四级标题</span></span><br><span class="line"><span class="preprocessor">##### 五级标题</span></span><br><span class="line"><span class="preprocessor">###### 六级标题</span></span><br></pre></td></tr></table></figure>
<h4 id="实际效果">实际效果</h4><blockquote>
<h1 id="一级标题">一级标题</h1><h2 id="二级标题">二级标题</h2><h3 id="三级标题">三级标题</h3><h4 id="四级标题">四级标题</h4><h5 id="五级标题">五级标题</h5><h6 id="六级标题">六级标题</h6></blockquote>
<h2 id="<!-more->">]]>
    
    </summary>
    
      <category term="Markdown" scheme="http://blog.vdaming.com/tags/Markdown/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[How I create my blog with Hexo on GitHub Pages]]></title>
    <link href="http://blog.vdaming.com/2015/08/31/How-I-create-my-blog-with-Hexo-on-GitHub-Pages/"/>
    <id>http://blog.vdaming.com/2015/08/31/How-I-create-my-blog-with-Hexo-on-GitHub-Pages/</id>
    <published>2015-08-31T14:07:58.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<h3 id="Why_would_me_like_to_create_the_blog?">Why would me like to create the blog?</h3><p>一年前，忘了为什么，突然觉的拥有自己的网站是多么酷炫的一件事情，于是二话没说在花生壳搞了个.com域名, 29/年。然后在sina的SAE上建起了自己的第一个blog <a href="http://blog.vdaming.com">Vdamings Blog</a>,是基于wordpress做的。因为SAE上有现成的模板code，点几下鼠标而已很方便，但是使用起来总觉得不是自己想要的那种，可能因为功能太多导致失去了自己想要的简单易用的特性。于是乎有了现在的新的blog，基于Hexo静态架构挂在github上，这下感觉对了，好用了，下面来谈谈该怎么用吧：</p>
<blockquote>
<ul>
<li>日子平淡无奇的过着, 很多美好的事情过去以后只能从脑海里回忆，渐渐忘掉，所以记下来留给明天回忆</li>
<li><strong>我是一个搞技术的，再好的记性比不过烂笔头，学一点及一点，以后用到的时候还能再翻一翻</strong></li>
<li>Blog 真是一个装X利器，你懂的！！！</li>
</ul>
</blockquote>
<p><strong> 上面全是扯淡，下面开始正题 </strong></p>
<hr>
<h3 id="What_is_Hexo?">What is Hexo?</h3><p>官方网站：<a href="https://hexo.io/" target="_blank" rel="external">https://hexo.io/</a><br>Source Code: <a href="https://github.com/hexojs/hexo/" target="_blank" rel="external">https://github.com/hexojs/hexo/</a><br>Hexo is A fast, simple &amp; powerful blog framework as shown on its official website. It has following powerful features:</p>
<blockquote>
<ul>
<li><strong>Blazing Fast</strong>: It is based on Node.js, and it brings you incredible generating speed. Hundreds of files take only seconds to build.</li>
<li><strong>Markdown Support</strong>: support the popular text-to-HTML languages. If you don not know it now, please just <a href="https://www.baidu.com/s?tn=baidu&amp;wd=markdown" target="_blank" rel="external">Baidu</a> it.</li>
<li><strong>One-Command Deployment</strong>: you just need know several commands to generate your blog and to deploy it to your GitHub Pages or other sites</li>
<li><strong>Various Plugins</strong>: it support various plugins which makes it more powerful.<a id="more"></a>
上面是总结官方的介绍，以及它的官网和source code, 其实在官网或者github上有所有我们安装使用它的介绍，足够能让我们在短时间搞定它，为了节省大家时间，现在总结成一下几点：<ol>
<li>Hexo 是一套搭建个人博客的工具或者是框架，它能产生网站要用到的静态页面，然后你把产生的文件部署到GitHub page，再然后你的博客就建成了。</li>
<li>安装：本文描述的是在ubuntu上安装的方法<br>前提必须要安装有Node.js 和 Git, 对于Git的按照请参照另一篇文章<a href="http://vdaming.github.io/2015/08/30/How-to-use-Git-and-GItHub/" target="_blank" rel="external">How to use Git and GItHub</a>.<br>安装node.js, 根据hexo官方的建议使用nvm安装：</li>
</ol>
</li>
</ul>
</blockquote>
<p>cURL:</p>
<blockquote>
<p>   $ curl <a href="https://raw.github.com/creationix/nvm/master/install.sh" target="_blank" rel="external">https://raw.github.com/creationix/nvm/master/install.sh</a> | sh</p>
</blockquote>
<p>Wget:</p>
<blockquote>
<p>   $ wget -qO- <a href="https://raw.github.com/creationix/nvm/master/install.sh" target="_blank" rel="external">https://raw.github.com/creationix/nvm/master/install.sh</a> | sh</p>
</blockquote>
<p>nvm 安装完成后再安装node.js</p>
<blockquote>
<p>   $nvm install 0.12</p>
</blockquote>
<p>这样V0.12的最新版本node.js就安装好了。<br>安装Hexo:</p>
<blockquote>
<p>   $npm install -g hexo-cli</p>
</blockquote>
<p>然后初始化一个自己的博客目录</p>
<blockquote>
<p>   $hexo init (folder)<br>   $cd (folder)<br>   $npm install</p>
</blockquote>
<p>大功告成，现在可使用下面的命令在本地查看你的博客了</p>
<blockquote>
<p>   $ hexo new “hello wold”//添加一篇博客<br>   $ hexo g //生成文件<br>   $ hexo s //在本地打开这个个http server</p>
</blockquote>
<p>然后访问 <a href="http://127.0.0.1:4000" target="_blank" rel="external">http://127.0.0.1:4000</a> 就能看到自己博客的样子了。至于有很多插件安装，主题配置的方法请参照这篇文章<a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="external">如何搭建一个独立博客</a></p>
<h3 id="What_is_GitHub_pages">What is GitHub pages</h3><p>本地的博客网站配置完毕以后，要把它部署到公共空间上，GitHub pages就是这样的一个存放静态页面的网站，它提供了300M的免费空间，并且他本身就是存放在GitHub上的，和github一起使用，很是方便。<br>对于部署页面，需要以下步骤</p>
<ol>
<li>在GItHub 上注册一个帐号，create 一个空的特殊的repository，特殊在它的名字是xxxx.github.io, xxx可以自己定义。</li>
<li><p>在Hexo的配置文件中_config.yml中填写部署的参数，在文件的最后补充如下代码</p>
<blockquote>
<p>deploy:<br>   type: git<br>   repository: <a href="https://github.com/VdaMing/vdaming.github.io.git" target="_blank" rel="external">https://github.com/VdaMing/vdaming.github.io.git</a> #填上自己创建的repository链接<br>   branch: master</p>
</blockquote>
</li>
<li><p>用命令部署到github空间</p>
<blockquote>
<p>$hexo d</p>
</blockquote>
</li>
</ol>
<p>输入用户名密码，Done!<br>现在可以浏览器进入xxxx.github.io玩玩自己的博客吧！</p>
<h3 id="Write_your_own_blog">Write your own blog</h3><p>但是写的博客要怎么提交呢？<br>Hexo使用marddown的格式写自己的博客，先使用命令创建一篇新博客：</p>
<blockquote>
<p>$hexo new “new blog”</p>
</blockquote>
<p>新的文章产生在blog的安装目录/source/_posts/new-blog.md：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: How I create my blog with Hexo on GitHub Pages</span><br><span class="line">date: 2015-08-31 22:07:58</span><br><span class="line"><span class="header">tags:</span><br><span class="line">---</span></span><br></pre></td></tr></table></figure></p>
<p>titile是文章的标题，date 写博客的时间， tags是分类，分割线后面写正文，使用markdown格式。写完后重新部署一下就OK了：<br><code>$hexo d</code></p>
<h3 id="加入Fork_me_on_github"><strong>加入Fork me on github</strong></h3><p>可以参照国外大神提供的代码，有各种样式和颜色可以选择，具体请参照页面<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="external">https://github.com/blog/273-github-ribbons</a><br>粘贴对应的代码到自己的博客中，例如我用的light的theme可以放到themes/hexo-theme-light/layout/layout.ejs的body标签中，重新部署就OK了!</p>
<h3 id="替换googleapis的链接加快网站打开速度"><strong>替换googleapis的链接加快网站打开速度</strong></h3><p>Hexo中使用的很多前端的库，字体，js等需要从googleapis.com获取,但是国内是不能顺利的打开这个网站的，这样造成了网站打开变慢。所以可以使用国内的站点进行替换就OK了。<br>具体使用的站点是360网站卫士：<a href="http://libs.useso.com/" target="_blank" rel="external">http://libs.useso.com/</a> 和 又拍云： <a href="http://jscdn.upai.com/" target="_blank" rel="external">http://jscdn.upai.com/</a>, 只要对生成的文件进行批量替换即可。</p>
<h3 id="添加widget的方法"><strong>添加widget的方法</strong></h3><p>基于我当前使用的light主题设置新的widget <strong>163music</strong>：</p>
<ol>
<li><p>在/themes/hexo-theme-light/layout/_widget/的目录下添加新的163music.ejs文件大致的格式如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"widget tag"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h3</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span>音乐分享<span class="tag">&lt;/<span class="title">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"entry"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">iframe</span> <span class="attribute">frameborder</span>=<span class="value">"no"</span> <span class="attribute">border</span>=<span class="value">"0"</span> <span class="attribute">marginwidth</span>=<span class="value">"0"</span> <span class="attribute">marginheight</span>=<span class="value">"0"</span> <span class="attribute">width</span>=<span class="value">100%</span> <span class="attribute">height</span>=<span class="value">450</span> <span class="attribute">src</span>=<span class="value">"http://music.163.com/outchain/player?type=0&amp;id=81623516&amp;auto=1&amp;height=430"</span>&gt;</span><span class="tag">&lt;/<span class="title">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中的iframe链接是在网易云音乐的歌单生成外链中自动生成的，但是吧width改为了100% 自动填充满。</p>
</li>
<li><p>在/theme/hexo-theme-light/_config.yml中的widgets中加入163music, 重新部署hexo， OK！</p>
</li>
</ol>
<h3 id="把自己的域名转到hexo_github_pages_的站点"><strong>把自己的域名转到hexo github pages 的站点</strong></h3><p>方法已经在github pages中有详细的介绍：<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/" target="_blank" rel="external">https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/</a><br>具体的步骤如下</p>
<ol>
<li>在/public/目录下添加一个名字为CNAME的文件，内容填上你的域名例如：blog.vdaming.com, 然后用<code>hexo d</code> 把新的文件部署到github上.</li>
<li>在自己的域名服务商里设置第三方的NS地址，我使用的godaddy，域名用dnspod的，所以在godaddy域名设置中更新使用dnspod的NS. 然后在dnspod中把blog.vdaming.com设置为你自己的github的地址xxxx.github.io.的CNAME. 搞定，等待CNAME生效即可，大概几分钟就行了，打开blog.vdaming.com， 就能自动装箱github pages的页面了。</li>
</ol>
<h3 id="End"><strong>End</strong></h3><p>Hexo还有很多折腾的地方，主题，各种插件，独立域名等等，我也在学习和完善自己blog的过程中，一起学习一起进步。当前正在练习怎么用markdown, 那么fasion的东西一定得Get!</p>
<p><strong>文章部分内容参照</strong><br><a href="https://hexo.io/" target="_blank" rel="external">Hexo</a><br><a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="external">如何搭建一个独立博客</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="Why_would_me_like_to_create_the_blog?">Why would me like to create the blog?</h3><p>一年前，忘了为什么，突然觉的拥有自己的网站是多么酷炫的一件事情，于是二话没说在花生壳搞了个.com域名, 29/年。然后在sina的SAE上建起了自己的第一个blog <a href="http://blog.vdaming.com">Vdamings Blog</a>,是基于wordpress做的。因为SAE上有现成的模板code，点几下鼠标而已很方便，但是使用起来总觉得不是自己想要的那种，可能因为功能太多导致失去了自己想要的简单易用的特性。于是乎有了现在的新的blog，基于Hexo静态架构挂在github上，这下感觉对了，好用了，下面来谈谈该怎么用吧：</p>
<blockquote>
<ul>
<li>日子平淡无奇的过着, 很多美好的事情过去以后只能从脑海里回忆，渐渐忘掉，所以记下来留给明天回忆</li>
<li><strong>我是一个搞技术的，再好的记性比不过烂笔头，学一点及一点，以后用到的时候还能再翻一翻</strong></li>
<li>Blog 真是一个装X利器，你懂的！！！</li>
</ul>
</blockquote>
<p><strong> 上面全是扯淡，下面开始正题 </strong></p>
<hr>
<h3 id="What_is_Hexo?">What is Hexo?</h3><p>官方网站：<a href="https://hexo.io/">https://hexo.io/</a><br>Source Code: <a href="https://github.com/hexojs/hexo/">https://github.com/hexojs/hexo/</a><br>Hexo is A fast, simple &amp; powerful blog framework as shown on its official website. It has following powerful features:</p>
<blockquote>
<ul>
<li><strong>Blazing Fast</strong>: It is based on Node.js, and it brings you incredible generating speed. Hundreds of files take only seconds to build.</li>
<li><strong>Markdown Support</strong>: support the popular text-to-HTML languages. If you don not know it now, please just <a href="https://www.baidu.com/s?tn=baidu&amp;wd=markdown">Baidu</a> it.</li>
<li><strong>One-Command Deployment</strong>: you just need know several commands to generate your blog and to deploy it to your GitHub Pages or other sites</li>
<li><strong>Various Plugins</strong>: it support various plugins which makes it more powerful.]]>
    
    </summary>
    
      <category term="Git" scheme="http://blog.vdaming.com/tags/Git/"/>
    
      <category term="Hexo" scheme="http://blog.vdaming.com/tags/Hexo/"/>
    
      <category term="Web" scheme="http://blog.vdaming.com/categories/Web/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[How to use Git and GItHub]]></title>
    <link href="http://blog.vdaming.com/2015/08/30/How-to-use-Git-and-GItHub/"/>
    <id>http://blog.vdaming.com/2015/08/30/How-to-use-Git-and-GItHub/</id>
    <published>2015-08-30T14:44:16.000Z</published>
    <updated>2016-01-17T10:22:19.679Z</updated>
    <content type="html"><![CDATA[<ol>
<li><strong>Git used locally:</strong><ul>
<li><strong>Set up git in linux</strong> <ol>
<li>sudo apt-get install git</li>
<li>git config –global user.name “vdaming”//git 用户姓名</li>
<li>git config –global user.email “xxxxxxxx@xxx.com” //用户邮箱</li>
<li>ssh-keygen -t rsa -C “youremail”//输入两次密码后会产生一个本机的SSH key，然后填写到你注册的github账户上（登陆github系统。点击右上角的 Account Settings—&gt;SSH Public keys —&gt; add another public keys），然后就可以用SSH连接github了        </li>
</ol>
</li>
<li><strong>Creat a local repository</strong><ol>
<li>mkdir testGitHub</li>
<li>git init// 把当前目录init为一个repository,会自动产生一个.git目录</li>
<li>cd testGitHub &amp;&amp; touch README.md</li>
<li>vim README.md // write something in it</li>
<li>git add README.md //添加到git暂存区</li>
<li>git commit -m “log” //改动提交到本地的repository 工作区</li>
<li>vim README.md //继续更改文件</li>
<li>git status //查看当前的改动</li>
<li>git diff //查看具体的改动</li>
<li>git add README.md &amp;&amp; git commit -m “log”//依然用add,commit,提交到repository</li>
<li>git log//显示所有提交的版本号以及log内容</li>
<li>git reflog//简短的实现所有提交过的log，版本</li>
<li>git reset –hard 版本号 或者 git reset –hard HEAD^num, 回退到某个版本或者往前回退num个版本</li>
<li>git checkout –filename //丢弃当前工作区的某个文件改动（退到还未做add前的最后版本）</li>
<li>rm file &amp;&amp; git commit -m “log” //从repository 删除某个文件</li>
<li>git checkout –file //rm后未add前时恢复文件<a id="more"></a></li>
</ol>
</li>
</ul>
</li>
<li><strong>How to use GitHub</strong></li>
</ol>
<ul>
<li><p><strong>From local to remote*</strong>   </p>
<ul>
<li><p>Create a repository first in the local as the “<strong>1. Git used locally</strong>“.</p>
<ol>
<li>Create an empty repository in the GitHub.com (easy to do)</li>
<li>git remote add origin URL// URL is the repository address created in GitHub.com</li>
<li>git push -u origin master// 把本地的master push 到远程的repository (-u is only used at the first time of push)</li>
</ol>
<ul>
<li><strong>From remote to local</strong></li>
</ul>
<ol>
<li>create a repository in the GitHub or fork from others’ repository</li>
<li>git clone URL//the URL of remote, the repository will be added in the local</li>
<li>git add &amp;&amp; git commit &amp;&amp; git push origin master //本地修改提交再更新到github</li>
<li>git remote add upstream URL//URL 为仓库源地址，对于clone fork的仓库，需要考虑sync的问题</li>
</ol>
<ul>
<li><strong>Master and Branch</strong></li>
</ul>
<ol>
<li>git branch branch_name// 创建branch</li>
<li>git checkout branch_name //切换到branch</li>
<li>git checkout -b branch_name //创建并切换到branch</li>
<li>git merge branch_name //merge branch 到当前的branch或master</li>
<li>git checkout -d branch_name //删除branch</li>
</ol>
<ul>
<li><strong>分支管理策略</strong></li>
</ul>
<p>通常合并分支时，git一般使用”Fast forward”模式，在这种模式下，删除分支后，会丢掉分支信息，现在我们来使用带参数 –no-ff来禁用”Fast forward”模式。：</p>
<ol>
<li>创建一个dev分支。</li>
<li>修改readme.txt内容。</li>
<li>添加到暂存区。</li>
<li>切换回主分支(master)。</li>
<li>合并dev分支，使用命令 git merge –no-ff  -m “注释” dev</li>
<li>查看历史记录</li>
</ol>
<ul>
<li><strong>多人协作工作模式</strong></li>
</ul>
<ol>
<li>首先，可以试图用git push origin branch-name推送自己的修改.</li>
<li>如果推送失败，则因为远程分支比你的本地更新早，需要先用git pull试图合并。</li>
<li>如果合并有冲突，则需要解决冲突，并在本地提交。再用git push origin branch-name推送。</li>
</ol>
<ul>
<li><strong>Note: origin 就是指remote的repository。</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>本文部分内容来自 ：</strong>《推荐！手把手教你使用Git》 <a href="http://blog.jobbole.com/78960/" target="_blank" rel="external">http://blog.jobbole.com/78960/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<ol>
<li><strong>Git used locally:</strong><ul>
<li><strong>Set up git in linux</strong> <ol>
<li>sudo apt-get install git</li>
<li>git config –global user.name “vdaming”//git 用户姓名</li>
<li>git config –global user.email “xxxxxxxx@xxx.com” //用户邮箱</li>
<li>ssh-keygen -t rsa -C “youremail”//输入两次密码后会产生一个本机的SSH key，然后填写到你注册的github账户上（登陆github系统。点击右上角的 Account Settings—&gt;SSH Public keys —&gt; add another public keys），然后就可以用SSH连接github了        </li>
</ol>
</li>
<li><strong>Creat a local repository</strong><ol>
<li>mkdir testGitHub</li>
<li>git init// 把当前目录init为一个repository,会自动产生一个.git目录</li>
<li>cd testGitHub &amp;&amp; touch README.md</li>
<li>vim README.md // write something in it</li>
<li>git add README.md //添加到git暂存区</li>
<li>git commit -m “log” //改动提交到本地的repository 工作区</li>
<li>vim README.md //继续更改文件</li>
<li>git status //查看当前的改动</li>
<li>git diff //查看具体的改动</li>
<li>git add README.md &amp;&amp; git commit -m “log”//依然用add,commit,提交到repository</li>
<li>git log//显示所有提交的版本号以及log内容</li>
<li>git reflog//简短的实现所有提交过的log，版本</li>
<li>git reset –hard 版本号 或者 git reset –hard HEAD^num, 回退到某个版本或者往前回退num个版本</li>
<li>git checkout –filename //丢弃当前工作区的某个文件改动（退到还未做add前的最后版本）</li>
<li>rm file &amp;&amp; git commit -m “log” //从repository 删除某个文件</li>
<li>git checkout –file //rm后未add前时恢复文件]]>
    
    </summary>
    
      <category term="Git" scheme="http://blog.vdaming.com/tags/Git/"/>
    
      <category term="GitHub" scheme="http://blog.vdaming.com/tags/GitHub/"/>
    
      <category term="Tool" scheme="http://blog.vdaming.com/categories/Tool/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello Hexo!!!]]></title>
    <link href="http://blog.vdaming.com/2015/08/30/Hello-Hexo/"/>
    <id>http://blog.vdaming.com/2015/08/30/Hello-Hexo/</id>
    <published>2015-08-30T14:08:26.000Z</published>
    <updated>2016-01-13T12:55:38.349Z</updated>
    <content type="html"><![CDATA[<p>First time use <strong>Hexo</strong> to setup my blog, and thanks the <strong>Hexo writer</strong> which let me have a place to recode my life and enjoy my life.</p>
<blockquote>
<p><strong><em>Good Good Study, Day Day Up!</em></strong></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[My first blog on the Hexo]]>
    
    </summary>
    
      <category term="Hexo" scheme="http://blog.vdaming.com/tags/Hexo/"/>
    
      <category term="未分类" scheme="http://blog.vdaming.com/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/"/>
    
  </entry>
  
</feed>
